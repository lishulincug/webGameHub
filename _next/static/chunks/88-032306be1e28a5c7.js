"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[88],{312:(e,t,r)=>{r.d(t,{FlappyBirdGame:()=>i});var l=r(7465),s=r(9117);function i(){let e=(0,s.useRef)(null),[t,r]=(0,s.useState)({y:200,velocity:0,frame:0}),[i,a]=(0,s.useState)([]),[n,c]=(0,s.useState)(0),[o,d]=(0,s.useState)(!1),[h,m]=(0,s.useState)(!1),u=(0,s.useRef)([]),f=(0,s.useRef)(null),x=(0,s.useRef)([]),g=(0,s.useRef)(null),v=(0,s.useRef)(null),b=(0,s.useRef)(null),[y,p]=(0,s.useState)(!1),w=(0,s.useRef)(null),j=(0,s.useRef)(null),N=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=e=>new Promise((t,r)=>{let l=new Image;l.onload=()=>t(l),l.onerror=r,l.src=e}),t=e=>new Promise((t,r)=>{let l=new Audio(e);l.oncanplaythrough=()=>t(l),l.onerror=r,l.src=e});Promise.all([...["https://hebbkx1anhila5yf.public.blob.vercel-storage.com/yellowbird-downflap-ZExrg9YxRxwFfLXDu6JijpJUQgByX6.png","https://hebbkx1anhila5yf.public.blob.vercel-storage.com/yellowbird-midflap-8mBrx070GYsw2As4Ue9BfQJ5XNMUg3.png","https://hebbkx1anhila5yf.public.blob.vercel-storage.com/yellowbird-upflap-hMo7jE66Ar0TzdbAMTzTMWaEGpTNx2.png"].map(e),...["https://hebbkx1anhila5yf.public.blob.vercel-storage.com/0-n6uJmiEzXXFf0NDHejRxdna8JdqZ9P.png","https://hebbkx1anhila5yf.public.blob.vercel-storage.com/1-2s71zdNWUSfnqIUbOABB2QJzzbG7fR.png","https://hebbkx1anhila5yf.public.blob.vercel-storage.com/2-QNpaMYRZvP9MgObyqVbxo7wu0MyjYE.png","https://hebbkx1anhila5yf.public.blob.vercel-storage.com/3-6yXb5a7IxZyl8kdXXBatpxq48enb2d.png","https://hebbkx1anhila5yf.public.blob.vercel-storage.com/4-9beOrHBy4QSBLifUwqaLXqbNWfK4Hr.png","https://hebbkx1anhila5yf.public.blob.vercel-storage.com/5-pgAY4wiTYa2Ppho9w3YXtLx3UHryJI.png","https://hebbkx1anhila5yf.public.blob.vercel-storage.com/6-5v6snji9HWY7UpBuqDkKDtck2zED4B.png","https://hebbkx1anhila5yf.public.blob.vercel-storage.com/7-zTxqP8uIOG4OYFtl8x6Dby0mqKfNYo.png","https://hebbkx1anhila5yf.public.blob.vercel-storage.com/8-gkhiN6iBVr2DY7SqrTZIEP7Q3doyo9.png","https://hebbkx1anhila5yf.public.blob.vercel-storage.com/9-PxwOSLzHQAiMeneqctp2q5mzWAv0Kv.png"].map(e),e("https://hebbkx1anhila5yf.public.blob.vercel-storage.com/background-day-rvpnF7CJRMdBNqqBc8Zfzz3QpIfkBG.png"),e("https://hebbkx1anhila5yf.public.blob.vercel-storage.com/gameover-NwA13AFRtIFat9QoA12T3lpjK76Qza.png"),e("https://hebbkx1anhila5yf.public.blob.vercel-storage.com/message-g1ru4NKF3KrKoFmiVpzR8fwdeLhwNa.png"),e("https://hebbkx1anhila5yf.public.blob.vercel-storage.com/pipe-green-zrz2zTtoVXaLn6xDqgrNVF9luzjW1B.png"),t("https://hebbkx1anhila5yf.public.blob.vercel-storage.com/point-SdTORahWMlxujnLCoDbujDLHI6KFeC.wav"),t("https://hebbkx1anhila5yf.public.blob.vercel-storage.com/hit-YVMFYQJEgZASG6O3xPWiyiqPtOLygb.wav"),t("https://hebbkx1anhila5yf.public.blob.vercel-storage.com/wing-oOSsspXpVMDc0enrWj4WWLaHVqs6Hk.wav")]).then(e=>{u.current=e.slice(0,3),x.current=e.slice(3,13),f.current=e[13],g.current=e[14],v.current=e[15],b.current=e[16],w.current=e[17],j.current=e[18],N.current=e[19],p(!0)})},[]);let S=(0,s.useCallback)(e=>{e&&!o&&(e.currentTime=0,e.play().catch(e=>console.error("Error playing sound:",e)))},[o]),k=(0,s.useCallback)(()=>{!o&&h?(r(e=>({...e,velocity:-10})),S(N.current)):h||m(!0)},[o,h,S]),G=(0,s.useCallback)(()=>{r({y:200,velocity:0,frame:0}),a([]),c(0),d(!1),m(!0)},[]);(0,s.useEffect)(()=>{let e=e=>{"Space"!==e.code||(h?o||k():m(!0))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[k,h,o]),(0,s.useEffect)(()=>{if(!y)return;let l=e.current,s=null==l?void 0:l.getContext("2d");if(!l||!s)return;let m=setInterval(()=>{if(s.clearRect(0,0,l.width,l.height),f.current&&s.drawImage(f.current,0,0,l.width,l.height),!h){if(v.current){let e=(l.width-184)/2,t=(l.height-267)/2;s.drawImage(v.current,e,t,184,267)}return}if(r(e=>({y:e.y+e.velocity,velocity:e.velocity+.5,frame:(e.frame+1)%3})),a(e=>e.map(e=>({...e,x:e.x-2}))),0===i.length||i[i.length-1].x<l.width-200){let e=Math.random()*(l.height-150-100)+50;a(t=>[...t,{x:l.width,topHeight:e}])}a(e=>e.filter(e=>e.x+52>0));let e={x:50,y:t.y,width:34,height:24};for(let t of i){let r={x:t.x,y:0,width:52,height:t.topHeight},s={x:t.x,y:t.topHeight+150,width:52,height:l.height-t.topHeight-150};e.x<r.x+r.width&&e.x+e.width>r.x&&e.y<r.y+r.height&&e.y+e.height>r.y&&(d(!0),S(j.current)),e.x<s.x+s.width&&e.x+e.width>s.x&&e.y<s.y+s.height&&e.y+e.height>s.y&&(d(!0),S(j.current))}!o&&i.some(e=>e.x+52<50&&e.x+52>=48)&&(c(e=>e+1),S(w.current)),i.forEach(e=>{b.current&&(s.save(),s.scale(1,-1),s.drawImage(b.current,e.x,-e.topHeight,52,320),s.restore(),s.drawImage(b.current,e.x,e.topHeight+150,52,320))}),s.save(),s.translate(67,t.y+12),s.rotate(Math.min(Math.PI/4,Math.max(-Math.PI/4,.1*t.velocity))),s.drawImage(u.current[t.frame],-17,-12,34,24),s.restore();let y=n.toString(),p=24*y.length,N=(l.width-p)/2;if(y.split("").forEach((e,t)=>{let r=x.current[parseInt(e)];r&&s.drawImage(r,N+24*t,20,24,36)}),(t.y>l.height||t.y<0)&&(d(!0),S(j.current)),o&&(clearInterval(m),g.current)){let e=(l.width-192)/2,t=(l.height-42)/2;s.drawImage(g.current,e,t,192,42),s.fillStyle="rgba(0, 0, 0, 0.5)",s.fillRect(l.width/2-50,l.height/2+50,100,40),s.fillStyle="white",s.font="20px Arial",s.fillText("Restart",l.width/2-30,l.height/2+75)}},1e3/60);return()=>clearInterval(m)},[t,i,o,n,k,h,y,G,S]);let A=(0,s.useCallback)(t=>{let r=e.current;if(!r)return;let l=r.getBoundingClientRect(),s=t.clientX-l.left,i=t.clientY-l.top;o?s>=r.width/2-50&&s<=r.width/2+50&&i>=r.height/2+50&&i<=r.height/2+90&&G():k()},[o,k,G]);return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:[(0,l.jsx)("canvas",{ref:e,width:288,height:512,className:"border border-gray-300",onClick:A}),(0,l.jsx)("p",{className:"mt-4 text-lg",children:"Press Space to start/jump or click/tap the game area"})]})}},360:(e,t,r)=>{r.d(t,{$:()=>o});var l=r(7465),s=r(9117),i=r(9567),a=r(1948),n=r(7287);let c=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,t)=>{let{className:r,variant:s,size:a,asChild:o=!1,...d}=e,h=o?i.DX:"button";return(0,l.jsx)(h,{className:(0,n.cn)(c({variant:s,size:a,className:r})),ref:t,...d})});o.displayName="Button"},1121:(e,t,r)=>{r.d(t,{MemoryMatchGame:()=>m});var l=r(7465),s=r(9117),i=r(360),a=r(6216),n=r(4196),c=r(6288),o=r(9558);let d=["\uD83D\uDC36","\uD83D\uDC31","\uD83D\uDC2D","\uD83D\uDC39","\uD83D\uDC30","\uD83E\uDD8A","\uD83D\uDC3B","\uD83D\uDC3C","\uD83D\uDC28","\uD83D\uDC2F","\uD83E\uDD81","\uD83D\uDC2E","\uD83D\uDC37","\uD83D\uDC38","\uD83D\uDC35","\uD83D\uDC14","\uD83D\uDC27","\uD83D\uDC26","\uD83E\uDD86","\uD83E\uDD85","\uD83E\uDD89","\uD83E\uDD87","\uD83D\uDC3A","\uD83D\uDC17","\uD83D\uDC34","\uD83E\uDD84","\uD83D\uDC1D","\uD83D\uDC1B","\uD83E\uDD8B","\uD83D\uDC0C","\uD83D\uDC1E","\uD83D\uDC1C","\uD83E\uDD97","\uD83D\uDD77","\uD83E\uDD82","\uD83E\uDD9F","\uD83E\uDDA0","\uD83D\uDC22","\uD83D\uDC0D","\uD83E\uDD8E","\uD83E\uDD96","\uD83E\uDD95","\uD83D\uDC19","\uD83E\uDD91","\uD83E\uDD90","\uD83E\uDD9E","\uD83E\uDD80","\uD83D\uDC21"],h={easy:{pairs:6,gridSize:"grid-cols-3 grid-rows-4"},medium:{pairs:8,gridSize:"grid-cols-4 grid-rows-4"},hard:{pairs:12,gridSize:"grid-cols-4 grid-rows-6"}};function m(){let[e,t]=(0,s.useState)([]),[r,m]=(0,s.useState)([]),[u,f]=(0,s.useState)([]),[x,g]=(0,s.useState)(0),[v,b]=(0,s.useState)(0),[y,p]=(0,s.useState)(null),[w,j]=(0,s.useState)("medium"),[N,S]=(0,s.useState)({isGameStarted:!1,isGameOver:!1}),[k,G]=(0,s.useState)({easy:{moves:Number.POSITIVE_INFINITY,time:Number.POSITIVE_INFINITY},medium:{moves:Number.POSITIVE_INFINITY,time:Number.POSITIVE_INFINITY},hard:{moves:Number.POSITIVE_INFINITY,time:Number.POSITIVE_INFINITY}}),A=(0,s.useCallback)(e=>{let{pairs:r}=h[e],l=[...d];for(let e=l.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[l[e],l[t]]=[l[t],l[e]]}let s=l.slice(0,r),i=[];s.forEach(e=>{i.push({icon:e,isMatched:!1}),i.push({icon:e,isMatched:!1})});for(let e=i.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[i[e],i[t]]=[i[t],i[e]]}t(i),m([]),f([]),g(0),b(0),j(e),S({isGameStarted:!0,isGameOver:!1}),y&&clearInterval(y),p(setInterval(()=>{b(e=>e+1)},1e3))},[y]),C=t=>{if(N.isGameOver||u.includes(e[t].icon)||r.includes(t)||r.length>=2)return;let l=[...r,t];if(m(l),2===l.length){g(e=>e+1);let[t,r]=l;e[t].icon===e[r].icon?(f(r=>[...r,e[t].icon]),m([]),u.length+1===h[w].pairs&&I()):setTimeout(()=>{m([])},1e3)}},I=()=>{clearInterval(y),S({...N,isGameOver:!0});let e={moves:x,time:v};G(t=>{let r={...t};return(x<t[w].moves||x===t[w].moves&&v<t[w].time)&&(r[w]=e),r})},M=()=>{A(w)},E=e=>{let t=Math.floor(e/60);return"".concat(t.toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))};return(0,s.useEffect)(()=>()=>{y&&clearInterval(y)},[y]),(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold flex items-center",children:[(0,l.jsx)(n.A,{className:"w-5 h-5 mr-1"})," ",E(v)]}),(0,l.jsxs)("div",{className:"text-lg font-bold",children:["步数: ",x]})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!N.isGameStarted&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"记忆配对"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"翻转卡片，找到所有匹配的对子！"}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 mb-4",children:[(0,l.jsx)("p",{className:"text-center font-medium",children:"选择难度:"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(i.$,{onClick:()=>A("easy"),children:"简单"}),(0,l.jsx)(i.$,{onClick:()=>A("medium"),children:"中等"}),(0,l.jsx)(i.$,{onClick:()=>A("hard"),children:"困难"})]})]})]}),N.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"恭喜！"}),(0,l.jsx)("p",{className:"text-lg mb-1",children:"你完成了记忆配对游戏！"}),(0,l.jsxs)("p",{className:"mb-4",children:["步数: ",x," | 用时: ",E(v)]}),x===k[w].moves&&v===k[w].time&&(0,l.jsxs)("div",{className:"flex items-center text-yellow-500 mb-4",children:[(0,l.jsx)(c.A,{className:"w-5 h-5 mr-1"})," 新纪录！"]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(i.$,{onClick:M,children:"再玩一次"}),(0,l.jsx)(i.$,{variant:"outline",onClick:()=>S({isGameStarted:!1,isGameOver:!1}),children:"更换难度"})]})]}),(0,l.jsx)("div",{className:"flex justify-center items-center h-full overflow-auto",children:N.isGameStarted&&!N.isGameOver&&(0,l.jsx)("div",{className:"grid gap-2 ".concat(h[w].gridSize),children:e.map((e,t)=>(0,l.jsxs)(a.P.div,{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-md cursor-pointer flex items-center justify-center text-2xl sm:text-3xl select-none",initial:!1,animate:{rotateY:r.includes(t)||u.includes(e.icon)?180:0,backgroundColor:u.includes(e.icon)?"#4ade80":r.includes(t)?"#60a5fa":"#1e293b"},transition:{duration:.3},onClick:()=>C(t),children:[(0,l.jsx)(a.P.div,{className:"absolute w-full h-full flex items-center justify-center",initial:!1,animate:{rotateY:r.includes(t)||u.includes(e.icon)?180:0,opacity:r.includes(t)||u.includes(e.icon)?1:0},transition:{duration:.3},children:e.icon}),(0,l.jsx)(a.P.div,{className:"absolute w-full h-full flex items-center justify-center text-white",initial:!1,animate:{rotateY:r.includes(t)||u.includes(e.icon)?0:180,opacity:r.includes(t)||u.includes(e.icon)?0:1},transition:{duration:.3},children:"?"})]},t))})})]}),N.isGameStarted&&!N.isGameOver&&(0,l.jsx)("div",{className:"mt-4 flex justify-center",children:(0,l.jsxs)(i.$,{variant:"outline",onClick:M,children:[(0,l.jsx)(o.A,{className:"w-4 h-4 mr-1"})," 重新开始"]})}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"游戏说明: 翻转卡片，找到所有匹配的对子。记住卡片的位置，用最少的步数完成游戏！"})})]})}},1324:(e,t,r)=>{r.d(t,{TetrisGame:()=>u});var l=r(7465),s=r(9117),i=r(360),a=r(240),n=r(6216),c=r(9245);let o={"cyan-500":"#06b6d4","blue-500":"#3b82f6","orange-500":"#f97316","yellow-500":"#eab308","green-500":"#22c55e","purple-500":"#a855f7","red-500":"#ef4444"},d={I:{shape:[[1,1,1,1]],color:"cyan-500"},J:{shape:[[1,0,0],[1,1,1]],color:"blue-500"},L:{shape:[[0,0,1],[1,1,1]],color:"orange-500"},O:{shape:[[1,1],[1,1]],color:"yellow-500"},S:{shape:[[0,1,1],[1,1,0]],color:"green-500"},T:{shape:[[0,1,0],[1,1,1]],color:"purple-500"},Z:{shape:[[1,1,0],[0,1,1]],color:"red-500"}},h=()=>Array.from({length:20},()=>Array(10).fill(0)),m=()=>{let e=Object.keys(d);return d[e[Math.floor(Math.random()*e.length)]]};function u(){let[e,t]=(0,s.useState)(h()),[r,d]=(0,s.useState)(null),[u,f]=(0,s.useState)(0),[x,g]=(0,s.useState)(!1),[v,b]=(0,s.useState)(800),[y,p]=(0,s.useState)(1),[w,j]=(0,s.useState)(!1),[N,S]=(0,s.useState)([]),k=(0,s.useRef)(null),G=(0,s.useRef)(null),A=(t,r,l)=>{for(let s=0;s<l.length;s++)for(let i=0;i<l[s].length;i++)if(0!==l[s][i]){let l=t+i,a=r+s;if(l<0||l>=10||a>=20||a>=0&&0!==e[a][l])return!0}return!1},C=(e,t,r)=>!A(e,t,r),I=(0,s.useCallback)(()=>{r&&C(r.x-1,r.y,r.tetromino.shape)&&d(e=>({...e,x:e.x-1}))},[r,e]),M=(0,s.useCallback)(()=>{r&&C(r.x+1,r.y,r.tetromino.shape)&&d(e=>({...e,x:e.x+1}))},[r,e]),E=(0,s.useCallback)(()=>{r&&(C(r.x,r.y+1,r.tetromino.shape)?d(e=>({...e,y:e.y+1})):R())},[r,e]),O=(0,s.useCallback)(()=>{if(!r)return;let e=r.tetromino.shape[0].map((e,t)=>r.tetromino.shape.map(e=>e[t]).reverse()),t=r.x,l=r.y;if(!C(t,l,e)){if(C(t-1,l,e))t-=1;else if(C(t+1,l,e))t+=1;else{if(!C(t,l-1,e))return;l-=1}}d(r=>({...r,x:t,y:l,tetromino:{...r.tetromino,shape:e}})),C(t,l+1,e)&&l+1<20&&d(e=>({...e,y:e.y+1}))},[r,e]),R=(0,s.useCallback)(()=>{if(!r)return;let l=e.map(e=>[...e]);r.tetromino.shape.forEach((e,t)=>{e.forEach((e,s)=>{if(0!==e){let e=t+r.y,i=s+r.x;e>=0&&e<20&&i>=0&&i<10&&(l[e][i]=r.tetromino.color)}})}),t(l),F(l),L()},[r,e]),F=(0,s.useCallback)(e=>{let r=[],l=e.filter((e,t)=>!e.every(e=>0!==e)||(r.push(t),!1));r.length>0&&(S(r),setTimeout(()=>{for(;l.length<20;)l.unshift(Array(10).fill(0));t(l),S([]);let e=u+100*r.length;f(e),Math.floor(e/500)>y-1&&(p(e=>e+1),b(e=>.95*e))},500))},[u,y]),L=(0,s.useCallback)(()=>{let e={x:Math.floor(5)-1,y:0,tetromino:m()};A(e.x,e.y,e.tetromino.shape)?g(!0):d(e)},[e]);(0,s.useEffect)(()=>{r||x||L()},[r,x,L]),(0,s.useEffect)(()=>(x||(G.current=setInterval(E,v)),()=>clearInterval(G.current)),[E,x,v]),(0,s.useEffect)(()=>{let e=e=>{if(!x)switch(e.key){case"ArrowLeft":I();break;case"ArrowRight":M();break;case"ArrowDown":E();break;case"ArrowUp":O()}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[I,M,E,O,x]),(0,s.useEffect)(()=>{k.current&&(k.current.volume=.5,k.current.loop=!0,!x&&w?k.current.play().catch(e=>console.error("Audio playback failed:",e)):k.current.pause())},[x,w]);let T=()=>{t(h()),d(null),f(0),g(!1),b(800),p(1),S([]),clearInterval(G.current)},z=(t,l)=>r&&r.tetromino.shape[l-r.y]&&r.tetromino.shape[l-r.y][t-r.x]?r.tetromino.color:e[l][t];return(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold",children:["分数: ",u]}),(0,l.jsxs)("div",{className:"text-lg font-bold",children:["等级: ",y]}),(0,l.jsxs)(i.$,{variant:"ghost",size:"sm",onClick:()=>{j(!w)},className:"flex items-center",children:[(0,l.jsx)(c.A,{className:"w-4 h-4 mr-2"}),w?"关闭音乐":"开启音乐"]})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!r&&!x&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"俄罗斯方块"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"使用方向键控制方块：左右移动，向上旋转，向下加速。消除完整的行获得分数！"}),(0,l.jsx)(i.$,{onClick:T,children:"开始游戏"})]}),x&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"游戏结束"}),(0,l.jsxs)("p",{className:"text-lg mb-4",children:["最终得分: ",u]}),(0,l.jsx)(i.$,{onClick:T,children:"再玩一次"})]}),(0,l.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,l.jsx)("div",{className:"grid bg-gray-100 border border-gray-300 rounded-md shadow-md",style:{gridTemplateColumns:"repeat(".concat(10,", 1fr)"),width:"".concat(200,"px"),height:"".concat(400,"px")},children:e.map((e,t)=>e.map((e,r)=>(0,l.jsx)(a.N,{children:(0,l.jsx)(n.P.div,{initial:!1,animate:{opacity:+!N.includes(t),scale:N.includes(t)?1.1:1},transition:{duration:.3},className:"".concat(z(r,t)?"":"bg-gray-100"),style:{border:"1px solid #e5e7eb",backgroundColor:z(r,t)?o[z(r,t)]:""}})},"".concat(t,"-").concat(r))))})}),(0,l.jsxs)("div",{className:"md:hidden mt-4 grid grid-cols-3 gap-2 w-full max-w-xs mx-auto",children:[(0,l.jsx)("div",{}),(0,l.jsx)(i.$,{variant:"outline",onClick:O,className:"w-full",children:"上"}),(0,l.jsx)("div",{}),(0,l.jsx)(i.$,{variant:"outline",onClick:I,className:"w-full",children:"左"}),(0,l.jsx)(i.$,{variant:"outline",onClick:E,className:"w-full",children:"下"}),(0,l.jsx)(i.$,{variant:"outline",onClick:M,className:"w-full",children:"右"})]})]}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"游戏说明: 使用方向键控制方块：左右移动，向上旋转，向下加速。消除完整的行获得分数！"})}),(0,l.jsx)("audio",{ref:k,src:"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/Tetris-kxnh5j7hpNEcFspAndlU2huV5n6dvk.mp3"})]})}},2417:(e,t,r)=>{r.d(t,{MazeGame:()=>m});var l=r(7465),s=r(9117),i=r(360),a=r(4196),n=r(6288),c=r(9558);let o={WALL:0,PATH:1,START:2,END:3,VISITED:4,COIN:5},d=[[0,-1],[1,0],[0,1],[-1,0]],h=(e,t)=>{let r=Array(t).fill().map(()=>Array(e).fill(o.WALL)),l=e%2==0?e-1:e,s=t%2==0?t-1:t,i=(e,t)=>{r[t][e]=o.PATH;let a=[...d];for(let e=a.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[a[e],a[t]]=[a[t],a[e]]}for(let[n,c]of a){let a=e+2*n,d=t+2*c;a>=0&&a<l&&d>=0&&d<s&&r[d][a]===o.WALL&&(r[t+c][e+n]=o.PATH,i(a,d))}};i(1,1),r[1][1]=o.START,r[s-2][l-2]=o.END;let a=Math.floor(l*s/20),n=0;for(;n<a;){let e=Math.floor(Math.random()*(l-2))+1,t=Math.floor(Math.random()*(s-2))+1;r[t][e]===o.PATH&&(r[t][e]=o.COIN,n++)}return r};function m(){let[e,t]=(0,s.useState)([]),[r,d]=(0,s.useState)({x:1,y:1}),[m,u]=(0,s.useState)({isGameStarted:!1,isGameOver:!1,isGameWon:!1}),[f,x]=(0,s.useState)(0),[g,v]=(0,s.useState)(null),[b,y]=(0,s.useState)(0),[p,w]=(0,s.useState)(0),[j,N]=(0,s.useState)("medium"),[S,k]=(0,s.useState)({easy:Number.POSITIVE_INFINITY,medium:Number.POSITIVE_INFINITY,hard:Number.POSITIVE_INFINITY}),G=(0,s.useRef)(null),A={easy:{width:15,height:15},medium:{width:21,height:21},hard:{width:31,height:31}},C=(0,s.useCallback)(e=>{let{width:r,height:l}=A[e],s=h(r,l);t(s),d({x:1,y:1}),u({isGameStarted:!0,isGameOver:!1,isGameWon:!1}),x(0),N(e);let i=0;for(let e=0;e<s.length;e++)for(let t=0;t<s[e].length;t++)s[e][t]===o.COIN&&i++;w(i),y(0),g&&clearInterval(g),v(setInterval(()=>{x(e=>e+1)},1e3))},[g]);(0,s.useEffect)(()=>{let l=l=>{if(!m.isGameStarted||m.isGameOver)return;let s=0,i=0;switch(l.key){case"ArrowUp":case"w":i=-1;break;case"ArrowRight":case"d":s=1;break;case"ArrowDown":case"s":i=1;break;case"ArrowLeft":case"a":s=-1;break;default:return}let a=r.x+s,n=r.y+i;if(a>=0&&a<e[0].length&&n>=0&&n<e.length){let r=e[n][a];if(r!==o.WALL){d({x:a,y:n});let l=[...e];r===o.COIN&&(l[n][a]=o.PATH,y(e=>e+1)),r===o.PATH&&(l[n][a]=o.VISITED),r===o.END&&I(),t(l)}}};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[m,e,r]);let I=()=>{clearInterval(g),u({...m,isGameOver:!0,isGameWon:!0}),k(e=>{let t={...e};return f<e[j]&&(t[j]=f),t})},M=()=>{C(j)};(0,s.useEffect)(()=>{if(!m.isGameStarted||!G.current)return;let t=G.current,l=t.getContext("2d"),s=Math.min((t.width-2)/e[0].length,(t.height-2)/e.length);l.clearRect(0,0,t.width,t.height);for(let t=0;t<e.length;t++)for(let r=0;r<e[t].length;r++){let i=r*s,a=t*s;switch(e[t][r]){case o.WALL:l.fillStyle="#1e293b",l.fillRect(i,a,s,s);break;case o.PATH:l.fillStyle="#f8fafc",l.fillRect(i,a,s,s);break;case o.START:l.fillStyle="#4ade80",l.fillRect(i,a,s,s);break;case o.END:l.fillStyle="#f43f5e",l.fillRect(i,a,s,s);break;case o.VISITED:l.fillStyle="#e2e8f0",l.fillRect(i,a,s,s);break;case o.COIN:l.fillStyle="#f8fafc",l.fillRect(i,a,s,s),l.fillStyle="#eab308",l.beginPath(),l.arc(i+s/2,a+s/2,s/3,0,2*Math.PI),l.fill()}}l.fillStyle="#3b82f6",l.beginPath(),l.arc(r.x*s+s/2,r.y*s+s/2,s/2.5,0,2*Math.PI),l.fill()},[e,r,m.isGameStarted]);let E=e=>{let t=Math.floor(e/60);return"".concat(t.toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))};(0,s.useEffect)(()=>()=>{g&&clearInterval(g)},[g]),(0,s.useEffect)(()=>{if(!G.current)return;let e=()=>{let e=G.current,t=e.parentElement,r=Math.min(t.clientWidth,t.clientHeight)-20;e.width=r,e.height=r};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let O=(l,s)=>{if(!m.isGameStarted||m.isGameOver)return;let i=r.x+l,a=r.y+s;if(i>=0&&i<e[0].length&&a>=0&&a<e.length){let r=e[a][i];if(r!==o.WALL){d({x:i,y:a});let l=[...e];r===o.COIN&&(l[a][i]=o.PATH,y(e=>e+1)),r===o.PATH&&(l[a][i]=o.VISITED),r===o.END&&I(),t(l)}}};return(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold flex items-center",children:[(0,l.jsx)(a.A,{className:"w-5 h-5 mr-1"})," ",E(f)]}),(0,l.jsxs)("div",{className:"text-lg font-bold",children:["金币: ",b,"/",p]})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!m.isGameStarted&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"迷宫探险"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"在迷宫中找到出路，收集金币获得更高分数！"}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 mb-4",children:[(0,l.jsx)("p",{className:"text-center font-medium",children:"选择难度:"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(i.$,{onClick:()=>C("easy"),children:"简单"}),(0,l.jsx)(i.$,{onClick:()=>C("medium"),children:"中等"}),(0,l.jsx)(i.$,{onClick:()=>C("hard"),children:"困难"})]})]})]}),m.isGameOver&&m.isGameWon&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"恭喜！"}),(0,l.jsx)("p",{className:"text-lg mb-1",children:"你成功走出了迷宫！"}),(0,l.jsxs)("p",{className:"mb-1",children:["用时: ",E(f)]}),(0,l.jsxs)("p",{className:"mb-4",children:["收集金币: ",b,"/",p]}),f===S[j]&&(0,l.jsxs)("div",{className:"flex items-center text-yellow-500 mb-4",children:[(0,l.jsx)(n.A,{className:"w-5 h-5 mr-1"})," 新纪录！"]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(i.$,{onClick:M,children:"再玩一次"}),(0,l.jsx)(i.$,{variant:"outline",onClick:()=>u({isGameStarted:!1,isGameOver:!1}),children:"更换难度"})]})]}),(0,l.jsx)("div",{className:"flex justify-center items-center h-full",children:m.isGameStarted&&(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("canvas",{ref:G,className:"border border-gray-300 rounded-md"}),(0,l.jsxs)("div",{className:"md:hidden mt-4 grid grid-cols-3 gap-2 w-full max-w-xs",children:[(0,l.jsx)("div",{}),(0,l.jsx)(i.$,{variant:"outline",onClick:()=>O(0,-1),children:"上"}),(0,l.jsx)("div",{}),(0,l.jsx)(i.$,{variant:"outline",onClick:()=>O(-1,0),children:"左"}),(0,l.jsx)(i.$,{variant:"outline",onClick:()=>O(0,1),children:"下"}),(0,l.jsx)(i.$,{variant:"outline",onClick:()=>O(1,0),children:"右"})]})]})})]}),m.isGameStarted&&!m.isGameOver&&(0,l.jsx)("div",{className:"mt-4 flex justify-center",children:(0,l.jsxs)(i.$,{variant:"outline",onClick:M,children:[(0,l.jsx)(c.A,{className:"w-4 h-4 mr-1"})," 重新开始"]})}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"游戏说明: 使用方向键或WASD移动角色，找到迷宫出口。收集金币可以获得更高分数！"})})]})}},4660:(e,t,r)=>{r.d(t,{RacingGame:()=>a});var l=r(7465),s=r(9117),i=r(360);function a(){let e=(0,s.useRef)(null),t=(0,s.useRef)(),r=(0,s.useRef)(new Set),a=(0,s.useRef)(0),n=(0,s.useRef)(null),[c,o]=(0,s.useState)({score:0,time:0,lap:0,isGameOver:!1,isGameStarted:!1,playerCar:{x:0,y:0,width:30,height:50,speed:0,angle:0,color:"#FF5252",isPlayer:!0},otherCars:[],obstacles:[]}),d=()=>{if(!e.current)return;let t=e.current;if(t.width=t.offsetWidth,t.height=t.offsetHeight,!n.current){let e=new Image;e.src="/placeholder.svg?height=800&width=800",e.crossOrigin="anonymous",n.current=e}let r={x:t.width/2,y:t.height-100,width:30,height:50,speed:0,angle:0,color:"#FF5252",isPlayer:!0},l=[];for(let e=0;e<3;e++)l.push({x:t.width/2+(e-1)*40,y:t.height-200-100*e,width:30,height:50,speed:2+Math.random(),angle:0,color:"hsl(".concat(360*Math.random(),", 70%, 50%)")});let s=[];for(let e=0;e<5;e++)s.push({x:Math.random()*(t.width-20),y:Math.random()*(t.height-300),width:20+30*Math.random(),height:20+30*Math.random()});o({score:0,time:0,lap:0,isGameOver:!1,isGameStarted:!0,playerCar:r,otherCars:l,obstacles:s})},h=r=>{if(!e.current||c.isGameOver)return;let l=r-a.current;a.current=r,m(l/16),f(),t.current=requestAnimationFrame(h)},m=t=>{o(l=>{if(!e.current)return l;let s=e.current,i=l.time+t/60,{playerCar:a,otherCars:n,obstacles:c,score:o,lap:d,isGameOver:h}={...l},m={...a};r.current.has("ArrowUp")||r.current.has("w")?m.speed=Math.min(m.speed+.1*t,5):r.current.has("ArrowDown")||r.current.has("s")?m.speed=Math.max(m.speed-.2*t,-2):m.speed>0?m.speed=Math.max(m.speed-.05*t,0):m.speed<0&&(m.speed=Math.min(m.speed+.05*t,0)),(r.current.has("ArrowLeft")||r.current.has("a"))&&(m.angle-=.05*t*(m.speed/2)),(r.current.has("ArrowRight")||r.current.has("d"))&&(m.angle+=.05*t*(m.speed/2)),m.x+=Math.sin(m.angle)*m.speed*t,m.y-=Math.cos(m.angle)*m.speed*t,m.x<0&&(m.x=0),m.x>s.width-m.width&&(m.x=s.width-m.width),m.y<0&&(m.y=0),m.y>s.height-m.height&&(m.y=s.height-m.height),m.y>s.height-60&&m.y<s.height-40&&50>Math.abs(m.x-s.width/2)&&l.playerCar.y<s.height-60&&(d+=1,o+=100);let f=n.map(e=>{let r={...e};return Math.random()>.95&&(r.angle+=(Math.random()-.5)*.1),r.x+=Math.sin(r.angle)*r.speed*t,r.y-=Math.cos(r.angle)*r.speed*t,(r.x<0||r.x>s.width-r.width)&&(r.angle=-r.angle),(r.y<0||r.y>s.height-r.height)&&(r.angle=Math.PI-r.angle),r});for(let e of f)u(m,e)&&(m.speed*=-.5,h=!0);for(let e of c)u(m,e)&&(m.speed*=-.5,h=!0);return{...l,playerCar:m,otherCars:f,score:o,time:i,lap:d,isGameOver:h}})},u=(e,t)=>e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y,f=()=>{if(!e.current)return;let t=e.current,r=t.getContext("2d");if(r){r.clearRect(0,0,t.width,t.height),r.fillStyle="#333333",r.fillRect(0,0,t.width,t.height),r.fillStyle="#666666",r.fillRect(50,50,t.width-100,t.height-100),r.fillStyle="#444444",r.fillRect(100,100,t.width-200,t.height-200),r.fillStyle="#FFFFFF";for(let e=0;e<8;e++)r.fillRect(t.width/2-50+20*e,t.height-50,10,10);r.fillStyle="#8B4513",c.obstacles.forEach(e=>{r.fillRect(e.x,e.y,e.width,e.height)}),c.otherCars.forEach(e=>{x(r,e)}),x(r,c.playerCar),r.fillStyle="#FFFFFF",r.font="16px Arial",r.fillText("圈数: ".concat(c.lap),10,30),r.fillText("时间: ".concat(c.time.toFixed(1),"秒"),10,50),r.fillText("分数: ".concat(c.score),10,70)}},x=(e,t)=>{e.save(),e.translate(t.x+t.width/2,t.y+t.height/2),e.rotate(t.angle),e.fillStyle=t.color,e.fillRect(-t.width/2,-t.height/2,t.width,t.height),e.fillStyle="#333333",e.fillRect(-t.width/2+5,-t.height/2+5,t.width-10,10),e.restore()};return(0,s.useEffect)(()=>{let e=e=>{r.current.add(e.key),["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"," "].includes(e.key)&&c.isGameStarted&&!c.isGameOver&&e.preventDefault()},t=e=>{r.current.delete(e.key)};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[c.isGameStarted,c.isGameOver]),(0,s.useEffect)(()=>{let r=()=>{e.current&&(e.current.width=e.current.offsetWidth,e.current.height=e.current.offsetHeight,f())};return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r),t.current&&cancelAnimationFrame(t.current)}},[]),(0,s.useEffect)(()=>{f()},[c]),(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold",children:["分数: ",c.score]}),(0,l.jsxs)("div",{className:"text-lg font-bold",children:["圈数: ",c.lap]}),(0,l.jsxs)("div",{className:"text-lg font-bold",children:["时间: ",c.time.toFixed(1),"秒"]})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!c.isGameStarted&&!c.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"赛车竞速"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"使用方向键或WASD控制赛车。上/W加速，下/S减速，左右/AD转向。尽可能多跑几圈并避免碰撞！"}),(0,l.jsx)(i.$,{onClick:()=>{d(),a.current=performance.now(),t.current=requestAnimationFrame(h)},children:"开始游戏"})]}),c.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"游戏结束"}),(0,l.jsxs)("p",{className:"text-lg mb-2",children:["最终得分: ",c.score]}),(0,l.jsxs)("p",{className:"text-lg mb-4",children:["完成圈数: ",c.lap]}),(0,l.jsx)(i.$,{onClick:()=>{d(),a.current=performance.now(),t.current=requestAnimationFrame(h)},children:"再玩一次"})]}),(0,l.jsx)("canvas",{ref:e,className:"w-full h-full border rounded-md",tabIndex:0})]}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"游戏说明: 使用方向键或WASD控制赛车。上/W加速，下/S减速，左右/AD转向。尽可能多跑几圈并避免碰撞！"})})]})}},5674:(e,t,r)=>{r.d(t,{BT:()=>o,Wu:()=>d,ZB:()=>c,Zp:()=>a,aR:()=>n,wL:()=>h});var l=r(7465),s=r(9117),i=r(7287);let a=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});a.displayName="Card";let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...s})});n.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});c.displayName="CardTitle";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...s})});o.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent";let h=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...s})});h.displayName="CardFooter"},5850:(e,t,r)=>{r.d(t,{WordGuessGame:()=>d});var l=r(7465),s=r(9117),i=r(360),a=r(3254),n=r(9558);let c={easy:["苹果","香蕉","橙子","西瓜","草莓","猫咪","狗狗","老鼠","兔子","熊猫","书本","铅笔","桌子","椅子","电脑","学校","医院","公园","商店","家庭"],medium:["电影院","图书馆","博物馆","游乐园","动物园","篮球场","足球场","游泳池","健身房","网球场","电视机","冰箱","洗衣机","微波炉","空调器","手机","相机","耳机","键盘","鼠标"],hard:["人工智能","虚拟现实","区块链技术","量子计算","机器学习","生物工程","纳米技术","可再生能源","太空探索","基因编辑","全球变暖","生物多样性","可持续发展","环境保护","气候变化","文化遗产","历史古迹","艺术展览","音乐会","戏剧表演"]},o={easy:{苹果:"一种红色或绿色的水果，常见的水果之一",香蕉:"黄色的弯曲水果，猴子喜欢吃",橙子:"橙色的圆形水果，富含维生素C",西瓜:"夏天常吃的大型水果，里面是红色的",草莓:"红色的小型水果，表面有小籽",猫咪:"常见的宠物，会喵喵叫",狗狗:"人类的好朋友，会汪汪叫",老鼠:"小型啮齿动物，喜欢吃奶酪",兔子:"有长耳朵的动物，喜欢吃胡萝卜",熊猫:"中国特有的黑白色动物",书本:"用来阅读和学习的物品",铅笔:"用来写字和画画的工具",桌子:"放东西的家具",椅子:"用来坐的家具",电脑:"处理信息的电子设备",学校:"学生学习的地方",医院:"治疗疾病的地方",公园:"休闲娱乐的户外场所",商店:"购买物品的地方",家庭:"人们生活的基本单位"},medium:{电影院:"观看电影的场所",图书馆:"借阅和阅读书籍的地方",博物馆:"展示历史文物和艺术品的地方",游乐园:"有各种游乐设施的娱乐场所",动物园:"展示各种动物的场所",篮球场:"打篮球的场地",足球场:"踢足球的场地",游泳池:"游泳的场所",健身房:"锻炼身体的地方",网球场:"打网球的场地",电视机:"观看节目的电器",冰箱:"保存食物的电器",洗衣机:"清洗衣物的电器",微波炉:"快速加热食物的电器",空调器:"调节室内温度的电器",手机:"便携式通讯设备",相机:"拍照的设备",耳机:"听音乐的设备",键盘:"电脑输入设备",鼠标:"电脑指针控制设备"},hard:{人工智能:"模拟人类智能的计算机系统",虚拟现实:"创造一个虚拟的三维环境的技术",区块链技术:"一种分布式数据存储技术",量子计算:"利用量子力学原理进行计算的技术",机器学习:"让计算机从数据中学习的技术",生物工程:"应用工程原理于生物系统的学科",纳米技术:"在纳米尺度上操作物质的技术",可再生能源:"可以持续再生的能源",太空探索:"探索宇宙空间的活动",基因编辑:"修改生物体基因的技术",全球变暖:"地球平均温度上升的现象",生物多样性:"生物种类的丰富程度",可持续发展:"既满足当代人需求又不损害后代人发展能力的发展模式",环境保护:"保护自然环境的活动",气候变化:"气候系统的长期变化",文化遗产:"具有历史文化价值的遗产",历史古迹:"具有历史意义的建筑或遗址",艺术展览:"展示艺术作品的活动",音乐会:"现场演奏音乐的活动",戏剧表演:"在舞台上表演戏剧的活动"}};function d(){let[e,t]=(0,s.useState)(""),[r,d]=(0,s.useState)(""),[h,m]=(0,s.useState)(new Set),[u,f]=(0,s.useState)(0),[x,g]=(0,s.useState)({isGameStarted:!1,isGameOver:!1,isGameWon:!1}),[v,b]=(0,s.useState)("easy"),[y,p]=(0,s.useState)(!1),w=(0,s.useCallback)(e=>{let r=c[e],l=Math.floor(Math.random()*r.length),s=r[l],i=o[e][s];t(s),d(i),m(new Set),f(0),g({isGameStarted:!0,isGameOver:!1,isGameWon:!1}),b(e),p(!1)},[]),j=t=>{if(x.isGameOver||h.has(t))return;let r=new Set(h);if(r.add(t),m(r),e.includes(t))[...e].every(e=>r.has(e))&&g({...x,isGameOver:!0,isGameWon:!0});else{let e=u+1;f(e),e>=6&&g({...x,isGameOver:!0,isGameWon:!1})}},N=()=>{w(v)};return(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold",children:["剩余生命: ",(0,l.jsx)("span",{className:"flex inline-flex",children:Array(6-u).fill(0).map((e,t)=>(0,l.jsx)(a.A,{className:"w-5 h-5 text-red-500 fill-red-500"},t))})]}),(0,l.jsxs)("div",{className:"text-lg font-bold",children:["难度: ","easy"===v?"简单":"medium"===v?"中等":"困难"]})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!x.isGameStarted&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"单词猜谜"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"猜测隐藏的单词，每次错误猜测会失去一条生命！"}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 mb-4",children:[(0,l.jsx)("p",{className:"text-center font-medium",children:"选择难度:"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(i.$,{onClick:()=>w("easy"),children:"简单"}),(0,l.jsx)(i.$,{onClick:()=>w("medium"),children:"中等"}),(0,l.jsx)(i.$,{onClick:()=>w("hard"),children:"困难"})]})]})]}),x.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:x.isGameWon?"恭喜！":"游戏结束"}),(0,l.jsx)("p",{className:"text-lg mb-4",children:x.isGameWon?"你成功猜出了单词！":"正确的单词是: ".concat(e)}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(i.$,{onClick:N,children:"再玩一次"}),(0,l.jsx)(i.$,{variant:"outline",onClick:()=>g({isGameStarted:!1,isGameOver:!1}),children:"更换难度"})]})]}),x.isGameStarted&&!x.isGameOver&&(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center mb-8",children:[(0,l.jsxs)("div",{className:"w-32 h-32 relative border-b-2 border-gray-400",children:[(0,l.jsx)("div",{className:"absolute top-0 left-4 w-1 h-32 bg-gray-800"}),(0,l.jsx)("div",{className:"absolute top-0 left-4 w-16 h-1 bg-gray-800"}),(0,l.jsx)("div",{className:"absolute top-0 right-12 w-1 h-6 bg-gray-800"}),u>=1&&(0,l.jsx)("div",{className:"absolute top-6 right-12 w-6 h-6 rounded-full border-2 border-gray-800"}),u>=2&&(0,l.jsx)("div",{className:"absolute top-12 right-12 w-1 h-10 bg-gray-800"}),u>=3&&(0,l.jsx)("div",{className:"absolute top-14 right-12 w-6 h-1 bg-gray-800 origin-left transform -rotate-45"}),u>=4&&(0,l.jsx)("div",{className:"absolute top-14 right-12 w-6 h-1 bg-gray-800 origin-right transform rotate-45"}),u>=5&&(0,l.jsx)("div",{className:"absolute top-22 right-12 w-6 h-1 bg-gray-800 origin-left transform -rotate-45"}),u>=6&&(0,l.jsx)("div",{className:"absolute top-22 right-12 w-6 h-1 bg-gray-800 origin-right transform rotate-45"})]}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>{p(!y)},children:y?"隐藏提示":"显示提示"}),y&&(0,l.jsx)("div",{className:"mt-2 p-2 bg-gray-100 rounded-md max-w-xs",children:(0,l.jsx)("p",{className:"text-sm",children:r})})]})]}),(0,l.jsx)("div",{className:"flex flex-wrap justify-center mb-8",children:[...e].map((e,t)=>(0,l.jsx)("div",{className:"w-8 h-10 border-b-2 border-gray-400 flex items-center justify-center mx-1",children:(0,l.jsx)("span",{className:"text-xl font-bold",children:h.has(e)||x.isGameOver?e:""})},t))}),(0,l.jsx)("div",{className:"grid grid-cols-10 gap-2",children:(()=>{let t=[...new Set([...e])],r=["一","二","三","四","五","六","七","八","九","十","人","口","日","月","水","火","木","金","土","山","田","白","石","目","米","车","马","牛","羊","鸟","鱼","虫","龙","门","雨","云","风","花","草","虎","狗","猫","鼠","牙","齿","心","手","足","耳","目","口","鼻","头","发","衣","食","住","行","坐","立","言","语","文","字","书","画","歌","舞","思","想"].filter(e=>!t.includes(e)),s={easy:10,medium:15,hard:20}[v];return[...t,...r.sort(()=>.5-Math.random()).slice(0,s)].sort(()=>.5-Math.random()).map((e,t)=>(0,l.jsx)(i.$,{variant:h.has(e)?"secondary":"outline",className:"w-8 h-8 p-0 text-sm",disabled:h.has(e)||x.isGameOver,onClick:()=>j(e),children:e},t))})()})]})]}),x.isGameStarted&&!x.isGameOver&&(0,l.jsx)("div",{className:"mt-4 flex justify-center",children:(0,l.jsxs)(i.$,{variant:"outline",onClick:N,children:[(0,l.jsx)(n.A,{className:"w-4 h-4 mr-1"})," 重新开始"]})}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"游戏说明: 猜测隐藏的单词，每次错误猜测会失去一条生命。可以使用提示按钮获取帮助。"})})]})}},7287:(e,t,r)=>{r.d(t,{cn:()=>i});var l=r(8778),s=r(2483);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,l.$)(t))}},7787:(e,t,r)=>{r.d(t,{SudokuGame:()=>g});var l=r(7465),s=r(9117),i=r(360),a=r(4196),n=r(8603),c=r(9558);let o=()=>{let e=Array(9).fill(null).map(()=>Array(9).fill(0));d(e),f(e);let t=e.map(e=>[...e]),r=e.map(e=>[...e]),l=Math.floor(48.6),s=0;for(;s<l;){let e=Math.floor(9*Math.random()),t=Math.floor(9*Math.random());0!==r[e][t]&&(r[e][t]=0,s++)}return{playerBoard:r,solution:t}},d=e=>{for(let t=0;t<9;t+=3)h(e,t,t)},h=(e,t,r)=>{let l=[1,2,3,4,5,6,7,8,9];m(l);let s=0;for(let i=0;i<3;i++)for(let a=0;a<3;a++)e[t+i][r+a]=l[s++]},m=e=>{for(let t=e.length-1;t>0;t--){let r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}},u=(e,t,r,l)=>{for(let r=0;r<9;r++)if(e[t][r]===l)return!1;for(let t=0;t<9;t++)if(e[t][r]===l)return!1;let s=3*Math.floor(t/3),i=3*Math.floor(r/3);for(let t=0;t<3;t++)for(let r=0;r<3;r++)if(e[s+t][i+r]===l)return!1;return!0},f=e=>{for(let t=0;t<9;t++)for(let r=0;r<9;r++)if(0===e[t][r]){let l=[1,2,3,4,5,6,7,8,9];for(let s of(m(l),l))if(u(e,t,r,s)){if(e[t][r]=s,f(e))return!0;e[t][r]=0}return!1}return!0},x=e=>{for(let t=0;t<9;t++)for(let r=0;r<9;r++)if(0===e[t][r])return!1;for(let t=0;t<9;t++){let r=new Set;for(let l=0;l<9;l++){if(r.has(e[t][l]))return!1;r.add(e[t][l])}}for(let t=0;t<9;t++){let r=new Set;for(let l=0;l<9;l++){if(r.has(e[l][t]))return!1;r.add(e[l][t])}}for(let t=0;t<9;t+=3)for(let r=0;r<9;r+=3){let l=new Set;for(let s=0;s<3;s++)for(let i=0;i<3;i++){let a=e[t+s][r+i];if(l.has(a))return!1;l.add(a)}}return!0};function g(){let[e,t]=(0,s.useState)({isGameStarted:!1,isGameOver:!1,isGameWon:!1}),[r,d]=(0,s.useState)({playerBoard:[],solution:[]}),[h,m]=(0,s.useState)([]),[u,f]=(0,s.useState)(null),[g,v]=(0,s.useState)([]),[b,y]=(0,s.useState)(0),[p,w]=(0,s.useState)(null),[j,N]=(0,s.useState)(3),S=(0,s.useCallback)(()=>{let{playerBoard:e,solution:r}=o();d({playerBoard:e,solution:r}),m(e.map(e=>[...e])),t({isGameStarted:!0,isGameOver:!1,isGameWon:!1}),f(null),v([]),y(0),N(3),p&&clearInterval(p),w(setInterval(()=>{y(e=>e+1)},1e3))},[p]),k=()=>{S()},G=(t,l)=>{!e.isGameOver&&0===r.playerBoard[t][l]&&f({row:t,col:l})},A=l=>{if(!u||e.isGameOver)return;let{row:s,col:i}=u,a=h.map(e=>[...e]);a[s][i]=0===l?0:l;let n=[...g],c=g.findIndex(e=>e.row===s&&e.col===i);0!==l&&l!==r.solution[s][i]?-1===c&&n.push({row:s,col:i}):-1!==c&&n.splice(c,1),m(a),v(n),x(a)&&(t({...e,isGameOver:!0,isGameWon:!0}),clearInterval(p))},C=e=>{let t=Math.floor(e/60);return"".concat(t.toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))};return(0,s.useEffect)(()=>()=>{p&&clearInterval(p)},[p]),(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold flex items-center",children:[(0,l.jsx)(a.A,{className:"w-5 h-5 mr-1"})," ",C(b)]}),(0,l.jsxs)("div",{className:"text-lg font-bold",children:["提示: ",j]})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!e.isGameStarted&&!e.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"数独挑战"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"填充数字1-9，使每行、每列和每个3x3方块中的数字不重复。"}),(0,l.jsx)(i.$,{onClick:S,children:"开始游戏"})]}),e.isGameOver&&e.isGameWon&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"恭喜！"}),(0,l.jsx)("p",{className:"text-lg mb-2",children:"你完成了数独挑战！"}),(0,l.jsxs)("p",{className:"text-lg mb-4",children:["用时: ",C(b)]}),(0,l.jsx)(i.$,{onClick:k,children:"再玩一次"})]}),(0,l.jsx)("div",{className:"flex justify-center items-center h-full",children:e.isGameStarted&&(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("div",{className:"grid grid-cols-9 gap-0 border-2 border-gray-800 mb-4",children:h.map((e,t)=>e.map((e,s)=>{let i=0!==r.playerBoard[t][s],a=u&&u.row===t&&u.col===s,n=g.some(e=>e.row===t&&e.col===s),c=(s+1)%3==0&&s<8?"border-r-2 border-gray-800":"border-r border-gray-300";return(0,l.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center cursor-pointer ".concat(i?"bg-gray-100 font-bold":""," ").concat(a?"bg-blue-200":""," ").concat(n?"text-red-500":""," ").concat(c," ").concat((t+1)%3==0&&t<8?"border-b-2 border-gray-800":"border-b border-gray-300"),onClick:()=>G(t,s),children:0!==e?e:""},"".concat(t,"-").concat(s))}))}),(0,l.jsxs)("div",{className:"grid grid-cols-5 gap-2",children:[[1,2,3,4,5,6,7,8,9].map(e=>(0,l.jsx)(i.$,{variant:"outline",className:"w-8 h-8 sm:w-10 sm:h-10 p-0",onClick:()=>A(e),children:e},e)),(0,l.jsx)(i.$,{variant:"outline",className:"w-8 h-8 sm:w-10 sm:h-10 p-0",onClick:()=>{if(!u||e.isGameOver)return;let{row:t,col:l}=u;if(0!==r.playerBoard[t][l])return;let s=h.map(e=>[...e]);s[t][l]=0;let i=g.filter(e=>e.row!==t||e.col!==l);m(s),v(i)},children:(0,l.jsx)(n.A,{className:"w-4 h-4"})})]}),(0,l.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,l.jsxs)(i.$,{variant:"outline",onClick:()=>{if(!u||j<=0||e.isGameOver)return;let{row:l,col:s}=u;if(0!==r.playerBoard[l][s])return;let i=r.solution[l][s],a=h.map(e=>[...e]);a[l][s]=i;let n=g.filter(e=>e.row!==l||e.col!==s);m(a),v(n),N(j-1),x(a)&&(t({...e,isGameOver:!0,isGameWon:!0}),clearInterval(p))},disabled:j<=0,children:["提示 (",j,")"]}),(0,l.jsxs)(i.$,{variant:"outline",onClick:k,children:[(0,l.jsx)(c.A,{className:"w-4 h-4 mr-1"})," 重新开始"]})]})]})})]}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"游戏说明: 填充数字1-9，使每行、每列和每个3x3方块中的数字不重复。点击空格后选择数字填入。"})})]})}},8315:(e,t,r)=>{r.d(t,{PlaneShooterGame:()=>a});var l=r(7465),s=r(9117),i=r(360);function a(){let e=(0,s.useRef)(null),[t,r]=(0,s.useState)({x:0,y:0,width:40,height:40,speed:5,isActive:!0,lives:3}),[a,n]=(0,s.useState)([]),[c,o]=(0,s.useState)([]),[d,h]=(0,s.useState)({score:0,isGameOver:!1,isGameStarted:!1}),m=(0,s.useRef)(),u=(0,s.useRef)(0),f=(0,s.useRef)(new Set),x=()=>{if(!e.current)return;let t=e.current;t.width=t.offsetWidth,t.height=t.offsetHeight,r({x:t.width/2-20,y:t.height-60,width:40,height:40,speed:5,isActive:!0,lives:3}),n([]),o([]),h({score:0,isGameOver:!1,isGameStarted:!0})},g=t=>{e.current&&!d.isGameOver&&(t-u.current>1e3&&(v(),u.current=t),y(),w(),m.current=requestAnimationFrame(g))},v=()=>{if(!e.current)return;let t={x:Math.random()*(e.current.width-30),y:-30,width:30,height:30,speed:2+2*Math.random(),isActive:!0,color:"hsl(".concat(360*Math.random(),", 70%, 50%)")};n(e=>[...e,t])},b=()=>{if(!t.isActive)return;let e={x:t.x+t.width/2-2,y:t.y,width:4,height:10,speed:7,isActive:!0};o(t=>[...t,e])},y=()=>{if(!e.current)return;let l=e.current,s=t.x,i=t.y;(f.current.has("ArrowLeft")||f.current.has("a"))&&(s=Math.max(0,t.x-t.speed)),(f.current.has("ArrowRight")||f.current.has("d"))&&(s=Math.min(l.width-t.width,t.x+t.speed)),(f.current.has("ArrowUp")||f.current.has("w"))&&(i=Math.max(0,t.y-t.speed)),(f.current.has("ArrowDown")||f.current.has("s"))&&(i=Math.min(l.height-t.height,t.y+t.speed)),f.current.has(" ")&&Math.random()>.7&&b(),r(e=>({...e,x:s,y:i})),o(e=>e.map(e=>({...e,y:e.y-e.speed,isActive:e.y>-e.height})).filter(e=>e.isActive)),n(e=>e.map(e=>({...e,y:e.y+e.speed,isActive:e.y<l.height})).filter(e=>e.isActive)),p()},p=()=>{let e=[...c],l=[...a],s=0;for(let t=0;t<e.length;t++){let r=e[t];if(r.isActive)for(let e=0;e<l.length;e++){let t=l[e];if(t.isActive&&r.x<t.x+t.width&&r.x+r.width>t.x&&r.y<t.y+t.height&&r.y+r.height>t.y){r.isActive=!1,t.isActive=!1,s+=10;break}}}let i=!1;for(let e=0;e<l.length;e++){let r=l[e];r.isActive&&t.x<r.x+r.width&&t.x+t.width>r.x&&t.y<r.y+r.height&&t.y+t.height>r.y&&(r.isActive=!1,i=!0)}i&&r(e=>{let t=e.lives-1;return t<=0&&h(e=>({...e,isGameOver:!0})),{...e,lives:t}}),s>0&&h(e=>({...e,score:e.score+s})),o(e.filter(e=>e.isActive)),n(l.filter(e=>e.isActive))},w=()=>{if(!e.current)return;let r=e.current,l=r.getContext("2d");l&&(l.clearRect(0,0,r.width,r.height),t.isActive&&(l.fillStyle="#4CAF50",l.beginPath(),l.moveTo(t.x+t.width/2,t.y),l.lineTo(t.x,t.y+t.height),l.lineTo(t.x+t.width,t.y+t.height),l.closePath(),l.fill()),a.forEach(e=>{e.isActive&&(l.fillStyle=e.color,l.fillRect(e.x,e.y,e.width,e.height))}),l.fillStyle="#FFC107",c.forEach(e=>{e.isActive&&l.fillRect(e.x,e.y,e.width,e.height)}))};return(0,s.useEffect)(()=>{let e=e=>{f.current.add(e.key)," "===e.key&&d.isGameStarted&&!d.isGameOver&&e.preventDefault()},t=e=>{f.current.delete(e.key)};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[d.isGameStarted,d.isGameOver]),(0,s.useEffect)(()=>{let t=()=>{e.current&&(e.current.width=e.current.offsetWidth,e.current.height=e.current.offsetHeight,w())};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t),m.current&&cancelAnimationFrame(m.current)}},[]),(0,s.useEffect)(()=>{w()},[t,a,c,d]),(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold",children:["分数: ",d.score]}),(0,l.jsxs)("div",{className:"text-lg font-bold",children:["生命: ",t.lives]})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!d.isGameStarted&&!d.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"飞机大战"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"使用方向键移动飞机，空格键发射子弹，击落敌机获得分数！"}),(0,l.jsx)(i.$,{onClick:()=>{x(),m.current=requestAnimationFrame(g)},children:"开始游戏"})]}),d.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"游戏结束"}),(0,l.jsxs)("p",{className:"text-lg mb-4",children:["最终得分: ",d.score]}),(0,l.jsx)(i.$,{onClick:()=>{x(),m.current=requestAnimationFrame(g)},children:"再玩一次"})]}),(0,l.jsx)("canvas",{ref:e,className:"w-full h-full border rounded-md",tabIndex:0})]}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"游戏说明: 使用方向键或WASD移动飞机，空格键发射子弹。击落敌机获得分数，避免与敌机相撞。"})})]})}},8387:(e,t,r)=>{r.d(t,{JumpAdventureGame:()=>a});var l=r(7465),s=r(9117),i=r(360);function a(){let e=(0,s.useRef)(null),t=(0,s.useRef)(),r=(0,s.useRef)(new Set),a=(0,s.useRef)(0),[n,c]=(0,s.useState)({score:0,isGameOver:!1,isGameStarted:!1,platforms:[],player:{x:0,y:0,width:30,height:30,velocityY:0,velocityX:0,isJumping:!1,direction:"idle"},highestPlatform:0}),o=()=>{if(!e.current)return;let t=e.current;t.width=t.offsetWidth,t.height=t.offsetHeight;let r=[];r.push({x:t.width/2-40,y:t.height-50,width:80,hasCoin:!1,coinCollected:!1});for(let e=1;e<10;e++){let l=Math.random()*(t.width-80),s=t.height-100-80*e,i=Math.random()>.6;r.push({x:l,y:s,width:80,hasCoin:i,coinCollected:!1})}c({score:0,isGameOver:!1,isGameStarted:!0,platforms:r,player:{x:t.width/2-15,y:t.height-80,width:30,height:30,velocityY:0,velocityX:0,isJumping:!1,direction:"idle"},highestPlatform:0})},d=r=>{if(!e.current||n.isGameOver)return;let l=r-a.current;a.current=r,h(l/16),m(),t.current=requestAnimationFrame(d)},h=t=>{c(l=>{if(!e.current)return l;let s=e.current,{player:i,platforms:a,score:n,isGameOver:c,highestPlatform:o}={...l},d={...i};d.velocityX=0,(r.current.has("ArrowLeft")||r.current.has("a"))&&(d.velocityX=-5*t,d.direction="left"),(r.current.has("ArrowRight")||r.current.has("d"))&&(d.velocityX=5*t,d.direction="right"),0===d.velocityX&&(d.direction="idle"),(r.current.has("ArrowUp")||r.current.has("w")||r.current.has(" "))&&!d.isJumping&&(d.velocityY=-12,d.isJumping=!0),d.velocityY+=.5*t,d.x+=d.velocityX,d.y+=d.velocityY,d.x<0&&(d.x=0),d.x>s.width-d.width&&(d.x=s.width-d.width),d.y>s.height&&(c=!0);let h=a.map(e=>{let t={...e};if(d.velocityY>0&&d.x+d.width>e.x&&d.x<e.x+e.width&&d.y+d.height>e.y&&d.y+d.height<e.y+10){d.y=e.y-d.height,d.velocityY=0,d.isJumping=!1,e.hasCoin&&!e.coinCollected&&(t.coinCollected=!0,n+=10);let r=s.height-e.y;r>o&&(n=Math.max(n,Math.floor((o=r)/10)))}return t});if(d.y<s.height/2){let e=s.height/2-d.y;d.y=s.height/2;let t=h.map(t=>{let r={...t};return r.y+=e,r.y>s.height&&(r.y=0,r.x=Math.random()*(s.width-r.width),r.hasCoin=Math.random()>.6,r.coinCollected=!1,n+=5),r});return{...l,player:d,platforms:t,score:n,isGameOver:c,highestPlatform:o}}return{...l,player:d,platforms:h,score:n,isGameOver:c,highestPlatform:o}})},m=()=>{if(!e.current)return;let t=e.current,r=t.getContext("2d");if(!r)return;r.clearRect(0,0,t.width,t.height),r.fillStyle="#e0f7fa",r.fillRect(0,0,t.width,t.height),r.fillStyle="#ffffff";for(let e=0;e<5;e++)u(r,e*t.width/5+30*Math.sin(Date.now()/1e4+e),50+20*e,40+5*e);n.platforms.forEach(e=>{r.fillStyle="#4CAF50",r.fillRect(e.x,e.y,e.width,10),e.hasCoin&&!e.coinCollected&&(r.fillStyle="#FFC107",r.beginPath(),r.arc(e.x+e.width/2,e.y-15,7,0,2*Math.PI),r.fill())});let l=n.player;r.fillStyle="#2196F3",r.fillRect(l.x,l.y,l.width,l.height),r.fillStyle="#FFFFFF","left"===l.direction?r.fillRect(l.x+5,l.y+8,5,5):("right"===l.direction||r.fillRect(l.x+5,l.y+8,5,5),r.fillRect(l.x+l.width-10,l.y+8,5,5)),r.fillStyle="#000000",r.font="20px Arial",r.fillText("分数: ".concat(n.score),10,30)},u=(e,t,r,l)=>{e.beginPath(),e.arc(t,r,l/2,0,2*Math.PI),e.arc(t+l/2,r-l/4,l/3,0,2*Math.PI),e.arc(t+l,r,l/2,0,2*Math.PI),e.fill()};return(0,s.useEffect)(()=>{let e=e=>{r.current.add(e.key)," "===e.key&&n.isGameStarted&&!n.isGameOver&&e.preventDefault()},t=e=>{r.current.delete(e.key)};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[n.isGameStarted,n.isGameOver]),(0,s.useEffect)(()=>{let r=()=>{e.current&&(e.current.width=e.current.offsetWidth,e.current.height=e.current.offsetHeight,m())};return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r),t.current&&cancelAnimationFrame(t.current)}},[]),(0,s.useEffect)(()=>{m()},[n]),(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsx)("div",{className:"flex justify-between w-full mb-4",children:(0,l.jsxs)("div",{className:"text-lg font-bold",children:["分数: ",n.score]})}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!n.isGameStarted&&!n.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"跳跃冒险"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"使用方向键或WASD移动角色，空格键或上方向键跳跃。收集金币并尽可能向上攀登！"}),(0,l.jsx)(i.$,{onClick:()=>{o(),a.current=performance.now(),t.current=requestAnimationFrame(d)},children:"开始游戏"})]}),n.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"游戏结束"}),(0,l.jsxs)("p",{className:"text-lg mb-4",children:["最终得分: ",n.score]}),(0,l.jsx)(i.$,{onClick:()=>{o(),a.current=performance.now(),t.current=requestAnimationFrame(d)},children:"再玩一次"})]}),(0,l.jsx)("canvas",{ref:e,className:"w-full h-full border rounded-md",tabIndex:0})]}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"游戏说明: 使用方向键或WASD移动角色，空格键或上方向键跳跃。收集金币并尽可能向上攀登！"})})]})}},9669:(e,t,r)=>{r.d(t,{BlockEliminationGame:()=>n});var l=r(7465),s=r(9117),i=r(360);let a=["#FF5252","#4CAF50","#2196F3","#FFC107","#9C27B0","#00BCD4"];function n(){let e=(0,s.useRef)(null),[t,r]=(0,s.useState)([]),[n,c]=(0,s.useState)({score:0,timeLeft:60,isGameOver:!1,isGameStarted:!1}),o=(0,s.useRef)(),d=(0,s.useRef)(0),h=()=>{if(!e.current)return;let t=e.current;if(!t.getContext("2d"))return;t.width=t.offsetWidth,t.height=t.offsetHeight;let l=[],s=Math.floor(t.width/50),i=Math.floor(t.height/50);for(let e=0;e<i;e++)for(let t=0;t<s;t++)l.push({x:50*t,y:50*e,color:a[Math.floor(Math.random()*a.length)],width:50,height:50,isVisible:!0});r(l),c({score:0,timeLeft:60,isGameOver:!1,isGameStarted:!0})},m=t=>{if(!e.current)return;let r=t-d.current;d.current=t,n.isGameStarted&&!n.isGameOver&&c(e=>{let t=Math.max(0,e.timeLeft-r/1e3);return{...e,timeLeft:t,isGameOver:t<=0}}),u(),n.isGameOver||(o.current=requestAnimationFrame(m))},u=()=>{if(!e.current)return;let r=e.current,l=r.getContext("2d");l&&(l.clearRect(0,0,r.width,r.height),t.forEach(e=>{e.isVisible&&(l.fillStyle=e.color,l.fillRect(e.x,e.y,e.width,e.height),l.strokeStyle="#FFF",l.lineWidth=2,l.strokeRect(e.x,e.y,e.width,e.height))}))},f=(r,l)=>{let s=e.current;if(!s)return[];let i=Math.floor(s.width/50),a=Array(t.length).fill(!1),n=[],c=e=>{if(e<0||e>=t.length||a[e]||!t[e].isVisible||t[e].color!==l)return;a[e]=!0,n.push(e);let r=Math.floor(e/i),s=e%i;r>0&&c(e-i),r<Math.floor(t.length/i)-1&&c(e+i),s>0&&c(e-1),s<i-1&&c(e+1)};return c(r),n};return(0,s.useEffect)(()=>{let t=()=>{e.current&&(e.current.width=e.current.offsetWidth,e.current.height=e.current.offsetHeight,u())};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t),o.current&&cancelAnimationFrame(o.current)}},[]),(0,s.useEffect)(()=>{u()},[t,n]),(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold",children:["分数: ",n.score]}),(0,l.jsxs)("div",{className:"text-lg font-bold",children:["时间: ",Math.ceil(n.timeLeft),"秒"]})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!n.isGameStarted&&!n.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"方块消除"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"点击相邻的相同颜色方块来消除它们，获得分数！"}),(0,l.jsx)(i.$,{onClick:()=>{h(),d.current=performance.now(),o.current=requestAnimationFrame(m)},children:"开始游戏"})]}),n.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"游戏结束"}),(0,l.jsxs)("p",{className:"text-lg mb-4",children:["最终得分: ",n.score]}),(0,l.jsx)(i.$,{onClick:()=>{h(),d.current=performance.now(),o.current=requestAnimationFrame(m)},children:"再玩一次"})]}),(0,l.jsx)("canvas",{ref:e,onClick:l=>{if(n.isGameOver||!n.isGameStarted)return;let s=e.current;if(!s)return;let i=s.getBoundingClientRect(),a=l.clientX-i.left,o=l.clientY-i.top,d=t.findIndex(e=>e.isVisible&&a>=e.x&&a<=e.x+e.width&&o>=e.y&&o<=e.y+e.height);if(-1!==d){let e=t[d].color,l=f(d,e);if(l.length>=2){let e=[...t];l.forEach(t=>{e[t]={...e[t],isVisible:!1}}),r(e),c(e=>({...e,score:e.score+10*l.length}))}}},className:"w-full h-full border rounded-md"})]}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"游戏说明: 点击相邻的相同颜色方块来消除它们。消除的方块越多，得分越高。"})})]})}}}]);