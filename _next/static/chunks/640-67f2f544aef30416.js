"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[640],{105:(e,t,r)=>{r.d(t,{SudokuGame:()=>g});var l=r(8538),a=r(610),s=r(9714),i=r(8575),n=r(4296),c=r(7311);let o=()=>{let e=Array(9).fill(null).map(()=>Array(9).fill(0));h(e),u(e);let t=e.map(e=>[...e]),r=e.map(e=>[...e]),l=Math.floor(48.6),a=0;for(;a<l;){let e=Math.floor(9*Math.random()),t=Math.floor(9*Math.random());0!==r[e][t]&&(r[e][t]=0,a++)}return{playerBoard:r,solution:t}},h=e=>{for(let t=0;t<9;t+=3)d(e,t,t)},d=(e,t,r)=>{let l=[1,2,3,4,5,6,7,8,9];m(l);let a=0;for(let s=0;s<3;s++)for(let i=0;i<3;i++)e[t+s][r+i]=l[a++]},m=e=>{for(let t=e.length-1;t>0;t--){let r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}},f=(e,t,r,l)=>{for(let r=0;r<9;r++)if(e[t][r]===l)return!1;for(let t=0;t<9;t++)if(e[t][r]===l)return!1;let a=3*Math.floor(t/3),s=3*Math.floor(r/3);for(let t=0;t<3;t++)for(let r=0;r<3;r++)if(e[a+t][s+r]===l)return!1;return!0},u=e=>{for(let t=0;t<9;t++)for(let r=0;r<9;r++)if(0===e[t][r]){let l=[1,2,3,4,5,6,7,8,9];for(let a of(m(l),l))if(f(e,t,r,a)){if(e[t][r]=a,u(e))return!0;e[t][r]=0}return!1}return!0},x=e=>{for(let t=0;t<9;t++)for(let r=0;r<9;r++)if(0===e[t][r])return!1;for(let t=0;t<9;t++){let r=new Set;for(let l=0;l<9;l++){if(r.has(e[t][l]))return!1;r.add(e[t][l])}}for(let t=0;t<9;t++){let r=new Set;for(let l=0;l<9;l++){if(r.has(e[l][t]))return!1;r.add(e[l][t])}}for(let t=0;t<9;t+=3)for(let r=0;r<9;r+=3){let l=new Set;for(let a=0;a<3;a++)for(let s=0;s<3;s++){let i=e[t+a][r+s];if(l.has(i))return!1;l.add(i)}}return!0};function g(){let[e,t]=(0,a.useState)({isGameStarted:!1,isGameOver:!1,isGameWon:!1}),[r,h]=(0,a.useState)({playerBoard:[],solution:[]}),[d,m]=(0,a.useState)([]),[f,u]=(0,a.useState)(null),[g,v]=(0,a.useState)([]),[p,y]=(0,a.useState)(0),[b,w]=(0,a.useState)(null),[N,j]=(0,a.useState)(3),E=(0,a.useCallback)(()=>{let{playerBoard:e,solution:r}=o();h({playerBoard:e,solution:r}),m(e.map(e=>[...e])),t({isGameStarted:!0,isGameOver:!1,isGameWon:!1}),u(null),v([]),y(0),j(3),b&&clearInterval(b),w(setInterval(()=>{y(e=>e+1)},1e3))},[b]),M=()=>{E()},k=(t,l)=>{!e.isGameOver&&0===r.playerBoard[t][l]&&u({row:t,col:l})},S=l=>{if(!f||e.isGameOver)return;let{row:a,col:s}=f,i=d.map(e=>[...e]);i[a][s]=0===l?0:l;let n=[...g],c=g.findIndex(e=>e.row===a&&e.col===s);0!==l&&l!==r.solution[a][s]?-1===c&&n.push({row:a,col:s}):-1!==c&&n.splice(c,1),m(i),v(n),x(i)&&(t({...e,isGameOver:!0,isGameWon:!0}),clearInterval(b))},A=e=>{let t=Math.floor(e/60);return"".concat(t.toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))};return(0,a.useEffect)(()=>()=>{b&&clearInterval(b)},[b]),(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold flex items-center",children:[(0,l.jsx)(i.A,{className:"w-5 h-5 mr-1"})," ",A(p)]}),(0,l.jsxs)("div",{className:"text-lg font-bold",children:["提示: ",N]})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!e.isGameStarted&&!e.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"数独挑战"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"填充数字1-9，使每行、每列和每个3x3方块中的数字不重复。"}),(0,l.jsx)(s.$,{onClick:E,children:"开始游戏"})]}),e.isGameOver&&e.isGameWon&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"恭喜！"}),(0,l.jsx)("p",{className:"text-lg mb-2",children:"你完成了数独挑战！"}),(0,l.jsxs)("p",{className:"text-lg mb-4",children:["用时: ",A(p)]}),(0,l.jsx)(s.$,{onClick:M,children:"再玩一次"})]}),(0,l.jsx)("div",{className:"flex justify-center items-center h-full",children:e.isGameStarted&&(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("div",{className:"grid grid-cols-9 gap-0 border-2 border-gray-800 mb-4",children:d.map((e,t)=>e.map((e,a)=>{let s=0!==r.playerBoard[t][a],i=f&&f.row===t&&f.col===a,n=g.some(e=>e.row===t&&e.col===a),c=(a+1)%3==0&&a<8?"border-r-2 border-gray-800":"border-r border-gray-300";return(0,l.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center cursor-pointer ".concat(s?"bg-gray-100 font-bold":""," ").concat(i?"bg-blue-200":""," ").concat(n?"text-red-500":""," ").concat(c," ").concat((t+1)%3==0&&t<8?"border-b-2 border-gray-800":"border-b border-gray-300"),onClick:()=>k(t,a),children:0!==e?e:""},"".concat(t,"-").concat(a))}))}),(0,l.jsxs)("div",{className:"grid grid-cols-5 gap-2",children:[[1,2,3,4,5,6,7,8,9].map(e=>(0,l.jsx)(s.$,{variant:"outline",className:"w-8 h-8 sm:w-10 sm:h-10 p-0",onClick:()=>S(e),children:e},e)),(0,l.jsx)(s.$,{variant:"outline",className:"w-8 h-8 sm:w-10 sm:h-10 p-0",onClick:()=>{if(!f||e.isGameOver)return;let{row:t,col:l}=f;if(0!==r.playerBoard[t][l])return;let a=d.map(e=>[...e]);a[t][l]=0;let s=g.filter(e=>e.row!==t||e.col!==l);m(a),v(s)},children:(0,l.jsx)(n.A,{className:"w-4 h-4"})})]}),(0,l.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,l.jsxs)(s.$,{variant:"outline",onClick:()=>{if(!f||N<=0||e.isGameOver)return;let{row:l,col:a}=f;if(0!==r.playerBoard[l][a])return;let s=r.solution[l][a],i=d.map(e=>[...e]);i[l][a]=s;let n=g.filter(e=>e.row!==l||e.col!==a);m(i),v(n),j(N-1),x(i)&&(t({...e,isGameOver:!0,isGameWon:!0}),clearInterval(b))},disabled:N<=0,children:["提示 (",N,")"]}),(0,l.jsxs)(s.$,{variant:"outline",onClick:M,children:[(0,l.jsx)(c.A,{className:"w-4 h-4 mr-1"})," 重新开始"]})]})]})})]}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"游戏说明: 填充数字1-9，使每行、每列和每个3x3方块中的数字不重复。点击空格后选择数字填入。"})})]})}},405:(e,t,r)=>{r.d(t,{JumpAdventureGame:()=>i});var l=r(8538),a=r(610),s=r(9714);function i(){let e=(0,a.useRef)(null),t=(0,a.useRef)(),r=(0,a.useRef)(new Set),i=(0,a.useRef)(0),[n,c]=(0,a.useState)({score:0,isGameOver:!1,isGameStarted:!1,platforms:[],player:{x:0,y:0,width:30,height:30,velocityY:0,velocityX:0,isJumping:!1,direction:"idle"},highestPlatform:0}),o=()=>{if(!e.current)return;let t=e.current;t.width=t.offsetWidth,t.height=t.offsetHeight;let r=[];r.push({x:t.width/2-40,y:t.height-50,width:80,hasCoin:!1,coinCollected:!1});for(let e=1;e<10;e++){let l=Math.random()*(t.width-80),a=t.height-100-80*e,s=Math.random()>.6;r.push({x:l,y:a,width:80,hasCoin:s,coinCollected:!1})}c({score:0,isGameOver:!1,isGameStarted:!0,platforms:r,player:{x:t.width/2-15,y:t.height-80,width:30,height:30,velocityY:0,velocityX:0,isJumping:!1,direction:"idle"},highestPlatform:0})},h=r=>{if(!e.current||n.isGameOver)return;let l=r-i.current;i.current=r,d(l/16),m(),t.current=requestAnimationFrame(h)},d=t=>{c(l=>{if(!e.current)return l;let a=e.current,{player:s,platforms:i,score:n,isGameOver:c,highestPlatform:o}={...l},h={...s};h.velocityX=0,(r.current.has("ArrowLeft")||r.current.has("a"))&&(h.velocityX=-5*t,h.direction="left"),(r.current.has("ArrowRight")||r.current.has("d"))&&(h.velocityX=5*t,h.direction="right"),0===h.velocityX&&(h.direction="idle"),(r.current.has("ArrowUp")||r.current.has("w")||r.current.has(" "))&&!h.isJumping&&(h.velocityY=-12,h.isJumping=!0),h.velocityY+=.5*t,h.x+=h.velocityX,h.y+=h.velocityY,h.x<0&&(h.x=0),h.x>a.width-h.width&&(h.x=a.width-h.width),h.y>a.height&&(c=!0);let d=i.map(e=>{let t={...e};if(h.velocityY>0&&h.x+h.width>e.x&&h.x<e.x+e.width&&h.y+h.height>e.y&&h.y+h.height<e.y+10){h.y=e.y-h.height,h.velocityY=0,h.isJumping=!1,e.hasCoin&&!e.coinCollected&&(t.coinCollected=!0,n+=10);let r=a.height-e.y;r>o&&(n=Math.max(n,Math.floor((o=r)/10)))}return t});if(h.y<a.height/2){let e=a.height/2-h.y;h.y=a.height/2;let t=d.map(t=>{let r={...t};return r.y+=e,r.y>a.height&&(r.y=0,r.x=Math.random()*(a.width-r.width),r.hasCoin=Math.random()>.6,r.coinCollected=!1,n+=5),r});return{...l,player:h,platforms:t,score:n,isGameOver:c,highestPlatform:o}}return{...l,player:h,platforms:d,score:n,isGameOver:c,highestPlatform:o}})},m=()=>{if(!e.current)return;let t=e.current,r=t.getContext("2d");if(!r)return;r.clearRect(0,0,t.width,t.height),r.fillStyle="#e0f7fa",r.fillRect(0,0,t.width,t.height),r.fillStyle="#ffffff";for(let e=0;e<5;e++)f(r,e*t.width/5+30*Math.sin(Date.now()/1e4+e),50+20*e,40+5*e);n.platforms.forEach(e=>{r.fillStyle="#4CAF50",r.fillRect(e.x,e.y,e.width,10),e.hasCoin&&!e.coinCollected&&(r.fillStyle="#FFC107",r.beginPath(),r.arc(e.x+e.width/2,e.y-15,7,0,2*Math.PI),r.fill())});let l=n.player;r.fillStyle="#2196F3",r.fillRect(l.x,l.y,l.width,l.height),r.fillStyle="#FFFFFF","left"===l.direction?r.fillRect(l.x+5,l.y+8,5,5):("right"===l.direction||r.fillRect(l.x+5,l.y+8,5,5),r.fillRect(l.x+l.width-10,l.y+8,5,5)),r.fillStyle="#000000",r.font="20px Arial",r.fillText("分数: ".concat(n.score),10,30)},f=(e,t,r,l)=>{e.beginPath(),e.arc(t,r,l/2,0,2*Math.PI),e.arc(t+l/2,r-l/4,l/3,0,2*Math.PI),e.arc(t+l,r,l/2,0,2*Math.PI),e.fill()};return(0,a.useEffect)(()=>{let e=e=>{r.current.add(e.key)," "===e.key&&n.isGameStarted&&!n.isGameOver&&e.preventDefault()},t=e=>{r.current.delete(e.key)};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[n.isGameStarted,n.isGameOver]),(0,a.useEffect)(()=>{let r=()=>{e.current&&(e.current.width=e.current.offsetWidth,e.current.height=e.current.offsetHeight,m())};return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r),t.current&&cancelAnimationFrame(t.current)}},[]),(0,a.useEffect)(()=>{m()},[n]),(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsx)("div",{className:"flex justify-between w-full mb-4",children:(0,l.jsxs)("div",{className:"text-lg font-bold",children:["分数: ",n.score]})}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!n.isGameStarted&&!n.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"跳跃冒险"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"使用方向键或WASD移动角色，空格键或上方向键跳跃。收集金币并尽可能向上攀登！"}),(0,l.jsx)(s.$,{onClick:()=>{o(),i.current=performance.now(),t.current=requestAnimationFrame(h)},children:"开始游戏"})]}),n.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"游戏结束"}),(0,l.jsxs)("p",{className:"text-lg mb-4",children:["最终得分: ",n.score]}),(0,l.jsx)(s.$,{onClick:()=>{o(),i.current=performance.now(),t.current=requestAnimationFrame(h)},children:"再玩一次"})]}),(0,l.jsx)("canvas",{ref:e,className:"w-full h-full border rounded-md",tabIndex:0})]}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"游戏说明: 使用方向键或WASD移动角色，空格键或上方向键跳跃。收集金币并尽可能向上攀登！"})})]})}},1975:(e,t,r)=>{r.d(t,{MemoryMatchGame:()=>m});var l=r(8538),a=r(610),s=r(9714),i=r(7343),n=r(8575),c=r(4461),o=r(7311);let h=["\uD83D\uDC36","\uD83D\uDC31","\uD83D\uDC2D","\uD83D\uDC39","\uD83D\uDC30","\uD83E\uDD8A","\uD83D\uDC3B","\uD83D\uDC3C","\uD83D\uDC28","\uD83D\uDC2F","\uD83E\uDD81","\uD83D\uDC2E","\uD83D\uDC37","\uD83D\uDC38","\uD83D\uDC35","\uD83D\uDC14","\uD83D\uDC27","\uD83D\uDC26","\uD83E\uDD86","\uD83E\uDD85","\uD83E\uDD89","\uD83E\uDD87","\uD83D\uDC3A","\uD83D\uDC17","\uD83D\uDC34","\uD83E\uDD84","\uD83D\uDC1D","\uD83D\uDC1B","\uD83E\uDD8B","\uD83D\uDC0C","\uD83D\uDC1E","\uD83D\uDC1C","\uD83E\uDD97","\uD83D\uDD77","\uD83E\uDD82","\uD83E\uDD9F","\uD83E\uDDA0","\uD83D\uDC22","\uD83D\uDC0D","\uD83E\uDD8E","\uD83E\uDD96","\uD83E\uDD95","\uD83D\uDC19","\uD83E\uDD91","\uD83E\uDD90","\uD83E\uDD9E","\uD83E\uDD80","\uD83D\uDC21"],d={easy:{pairs:6,gridSize:"grid-cols-3 grid-rows-4"},medium:{pairs:8,gridSize:"grid-cols-4 grid-rows-4"},hard:{pairs:12,gridSize:"grid-cols-4 grid-rows-6"}};function m(){let[e,t]=(0,a.useState)([]),[r,m]=(0,a.useState)([]),[f,u]=(0,a.useState)([]),[x,g]=(0,a.useState)(0),[v,p]=(0,a.useState)(0),[y,b]=(0,a.useState)(null),[w,N]=(0,a.useState)("medium"),[j,E]=(0,a.useState)({isGameStarted:!1,isGameOver:!1}),[M,k]=(0,a.useState)({easy:{moves:Number.POSITIVE_INFINITY,time:Number.POSITIVE_INFINITY},medium:{moves:Number.POSITIVE_INFINITY,time:Number.POSITIVE_INFINITY},hard:{moves:Number.POSITIVE_INFINITY,time:Number.POSITIVE_INFINITY}}),S=(0,a.useCallback)(e=>{let{pairs:r}=d[e],l=[...h];for(let e=l.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[l[e],l[t]]=[l[t],l[e]]}let a=l.slice(0,r),s=[];a.forEach(e=>{s.push({icon:e,isMatched:!1}),s.push({icon:e,isMatched:!1})});for(let e=s.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[s[e],s[t]]=[s[t],s[e]]}t(s),m([]),u([]),g(0),p(0),N(e),E({isGameStarted:!0,isGameOver:!1}),y&&clearInterval(y),b(setInterval(()=>{p(e=>e+1)},1e3))},[y]),A=t=>{if(j.isGameOver||f.includes(e[t].icon)||r.includes(t)||r.length>=2)return;let l=[...r,t];if(m(l),2===l.length){g(e=>e+1);let[t,r]=l;e[t].icon===e[r].icon?(u(r=>[...r,e[t].icon]),m([]),f.length+1===d[w].pairs&&R()):setTimeout(()=>{m([])},1e3)}},R=()=>{clearInterval(y),E({...j,isGameOver:!0});let e={moves:x,time:v};k(t=>{let r={...t};return(x<t[w].moves||x===t[w].moves&&v<t[w].time)&&(r[w]=e),r})},G=()=>{S(w)},C=e=>{let t=Math.floor(e/60);return"".concat(t.toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))};return(0,a.useEffect)(()=>()=>{y&&clearInterval(y)},[y]),(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold flex items-center",children:[(0,l.jsx)(n.A,{className:"w-5 h-5 mr-1"})," ",C(v)]}),(0,l.jsxs)("div",{className:"text-lg font-bold",children:["步数: ",x]})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!j.isGameStarted&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"记忆配对"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"翻转卡片，找到所有匹配的对子！"}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 mb-4",children:[(0,l.jsx)("p",{className:"text-center font-medium",children:"选择难度:"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(s.$,{onClick:()=>S("easy"),children:"简单"}),(0,l.jsx)(s.$,{onClick:()=>S("medium"),children:"中等"}),(0,l.jsx)(s.$,{onClick:()=>S("hard"),children:"困难"})]})]})]}),j.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"恭喜！"}),(0,l.jsx)("p",{className:"text-lg mb-1",children:"你完成了记忆配对游戏！"}),(0,l.jsxs)("p",{className:"mb-4",children:["步数: ",x," | 用时: ",C(v)]}),x===M[w].moves&&v===M[w].time&&(0,l.jsxs)("div",{className:"flex items-center text-yellow-500 mb-4",children:[(0,l.jsx)(c.A,{className:"w-5 h-5 mr-1"})," 新纪录！"]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(s.$,{onClick:G,children:"再玩一次"}),(0,l.jsx)(s.$,{variant:"outline",onClick:()=>E({isGameStarted:!1,isGameOver:!1}),children:"更换难度"})]})]}),(0,l.jsx)("div",{className:"flex justify-center items-center h-full overflow-auto",children:j.isGameStarted&&!j.isGameOver&&(0,l.jsx)("div",{className:"grid gap-2 ".concat(d[w].gridSize),children:e.map((e,t)=>(0,l.jsxs)(i.P.div,{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-md cursor-pointer flex items-center justify-center text-2xl sm:text-3xl select-none",initial:!1,animate:{rotateY:r.includes(t)||f.includes(e.icon)?180:0,backgroundColor:f.includes(e.icon)?"#4ade80":r.includes(t)?"#60a5fa":"#1e293b"},transition:{duration:.3},onClick:()=>A(t),children:[(0,l.jsx)(i.P.div,{className:"absolute w-full h-full flex items-center justify-center",initial:!1,animate:{rotateY:r.includes(t)||f.includes(e.icon)?180:0,opacity:r.includes(t)||f.includes(e.icon)?1:0},transition:{duration:.3},children:e.icon}),(0,l.jsx)(i.P.div,{className:"absolute w-full h-full flex items-center justify-center text-white",initial:!1,animate:{rotateY:r.includes(t)||f.includes(e.icon)?0:180,opacity:r.includes(t)||f.includes(e.icon)?0:1},transition:{duration:.3},children:"?"})]},t))})})]}),j.isGameStarted&&!j.isGameOver&&(0,l.jsx)("div",{className:"mt-4 flex justify-center",children:(0,l.jsxs)(s.$,{variant:"outline",onClick:G,children:[(0,l.jsx)(o.A,{className:"w-4 h-4 mr-1"})," 重新开始"]})}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"游戏说明: 翻转卡片，找到所有匹配的对子。记住卡片的位置，用最少的步数完成游戏！"})})]})}},2240:(e,t,r)=>{r.d(t,{ChineseChessGame:()=>m});var l=r(8538),a=r(610),s=r(9714),i=r(4852),n=r(4888),c=r(7311);let o={EMPTY:0,RED_KING:1,RED_ADVISOR:2,RED_ELEPHANT:3,RED_HORSE:4,RED_CHARIOT:5,RED_CANNON:6,RED_SOLDIER:7,BLACK_KING:8,BLACK_ADVISOR:9,BLACK_ELEPHANT:10,BLACK_HORSE:11,BLACK_CHARIOT:12,BLACK_CANNON:13,BLACK_SOLDIER:14},h={[o.RED_KING]:"帅",[o.RED_ADVISOR]:"仕",[o.RED_ELEPHANT]:"相",[o.RED_HORSE]:"马",[o.RED_CHARIOT]:"车",[o.RED_CANNON]:"炮",[o.RED_SOLDIER]:"兵",[o.BLACK_KING]:"将",[o.BLACK_ADVISOR]:"士",[o.BLACK_ELEPHANT]:"象",[o.BLACK_HORSE]:"马",[o.BLACK_CHARIOT]:"车",[o.BLACK_CANNON]:"炮",[o.BLACK_SOLDIER]:"卒"},d=[[o.BLACK_CHARIOT,o.BLACK_HORSE,o.BLACK_ELEPHANT,o.BLACK_ADVISOR,o.BLACK_KING,o.BLACK_ADVISOR,o.BLACK_ELEPHANT,o.BLACK_HORSE,o.BLACK_CHARIOT],[o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY],[o.EMPTY,o.BLACK_CANNON,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.BLACK_CANNON,o.EMPTY],[o.BLACK_SOLDIER,o.EMPTY,o.BLACK_SOLDIER,o.EMPTY,o.BLACK_SOLDIER,o.EMPTY,o.BLACK_SOLDIER,o.EMPTY,o.BLACK_SOLDIER],[o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY],[o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY],[o.RED_SOLDIER,o.EMPTY,o.RED_SOLDIER,o.EMPTY,o.RED_SOLDIER,o.EMPTY,o.RED_SOLDIER,o.EMPTY,o.RED_SOLDIER],[o.EMPTY,o.RED_CANNON,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.RED_CANNON,o.EMPTY],[o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY,o.EMPTY],[o.RED_CHARIOT,o.RED_HORSE,o.RED_ELEPHANT,o.RED_ADVISOR,o.RED_KING,o.RED_ADVISOR,o.RED_ELEPHANT,o.RED_HORSE,o.RED_CHARIOT]];function m(){let[e,t]=(0,a.useState)(()=>d.map(e=>[...e])),[r,m]=(0,a.useState)("red"),[f,u]=(0,a.useState)(null),[x,g]=(0,a.useState)({isGameStarted:!1,isGameOver:!1,winner:null}),[v,p]=(0,a.useState)("human"),y=e=>e>=o.RED_KING&&e<=o.RED_SOLDIER,b=e=>e>=o.BLACK_KING&&e<=o.BLACK_SOLDIER,w=(0,a.useCallback)((t,r,l,a,s)=>{if(l<0||l>=10||a<0||a>=9)return!1;let i=e[l][a];if(y(s)&&y(i)||b(s)&&b(i))return!1;let n=Math.abs(l-t),c=Math.abs(a-r);switch(s){case o.RED_KING:case o.BLACK_KING:return(s===o.RED_KING?l>=7&&l<=9&&a>=3&&a<=5:l>=0&&l<=2&&a>=3&&a<=5)&&(1===n&&0===c||0===n&&1===c);case o.RED_ADVISOR:case o.BLACK_ADVISOR:return(s===o.RED_ADVISOR?l>=7&&l<=9&&a>=3&&a<=5:l>=0&&l<=2&&a>=3&&a<=5)&&1===n&&1===c;case o.RED_ELEPHANT:case o.BLACK_ELEPHANT:if(!(s===o.RED_ELEPHANT?l>=5:l<=4)||2!==n||2!==c)return!1;return e[t+(l-t)/2][r+(a-r)/2]===o.EMPTY;case o.RED_HORSE:case o.BLACK_HORSE:if((2!==n||1!==c)&&(1!==n||2!==c))return!1;return e[2===n?t+(l-t)/2:t][2===c?r+(a-r)/2:r]===o.EMPTY;case o.RED_CHARIOT:case o.BLACK_CHARIOT:if(0!==n&&0!==c)return!1;let h=0===n?0:(l-t)/n,d=0===c?0:(a-r)/c;for(let l=1;l<Math.max(n,c);l++)if(e[t+l*h][r+l*d]!==o.EMPTY)return!1;return!0;case o.RED_CANNON:case o.BLACK_CANNON:if(0!==n&&0!==c)return!1;let m=0===n?0:(l-t)/n,f=0===c?0:(a-r)/c,u=0;for(let l=1;l<Math.max(n,c);l++)e[t+l*m][r+l*f]!==o.EMPTY&&u++;return i===o.EMPTY?0===u:1===u;case o.RED_SOLDIER:if(t>=5)return l===t-1&&a===r;return l===t-1&&a===r||l===t&&1===Math.abs(a-r);case o.BLACK_SOLDIER:if(t<=4)return l===t+1&&a===r;return l===t+1&&a===r||l===t&&1===Math.abs(a-r);default:return!1}},[e]),N=(0,a.useCallback)((e,t)=>{let r=-1,l=-1,a=t?o.RED_KING:o.BLACK_KING;for(let t=0;t<10;t++){for(let s=0;s<9;s++)if(e[t][s]===a){r=t,l=s;break}if(-1!==r)break}if(-1===r)return!0;for(let a=0;a<10;a++)for(let s=0;s<9;s++){let i=e[a][s];if(i!==o.EMPTY&&(t&&b(i)||!t&&y(i))&&w(a,s,r,l,i))return!0}return!1},[w]),j=(l,a)=>{if(x.isGameOver)return;let s=e[l][a];if(f){let{row:s,col:i}=f;if(s===l&&i===a){u(null);return}let n=e[s][i];if(w(s,i,l,a,n)){let c=e.map(e=>[...e]);c[l][a]=n,c[s][i]=o.EMPTY;let h=y(n);N(c,h)||(t(c),u(null),N(c,!h)?g(e=>({...e,isGameOver:!0,winner:r})):m("red"===r?"black":"red"))}u(null)}else if(s!==o.EMPTY){let e=y(s);("red"===r&&e||"black"===r&&b(s))&&u({row:l,col:a})}},E=e=>{t(d.map(e=>[...e])),m("red"),u(null),g({isGameStarted:!0,isGameOver:!1,winner:null}),p(e)},M=()=>{E(v)},k=(e,t,r)=>{if(e===o.EMPTY)return null;let a=y(e),s=f&&f.row===t&&f.col===r;return(0,l.jsx)("div",{className:"w-8 h-8 rounded-full border-2 flex items-center justify-center text-sm font-bold cursor-pointer\n          ".concat(a?"bg-red-100 border-red-500 text-red-700":"bg-gray-100 border-gray-700 text-gray-800","\n          ").concat(s?"ring-2 ring-blue-500":"","\n          hover:shadow-md transition-shadow\n        "),children:h[e]})};return(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold",children:["当前玩家: ","red"===r?"红方":"黑方"]}),(0,l.jsx)("div",{className:"text-lg font-bold",children:"ai"===v?(0,l.jsxs)("span",{className:"flex items-center",children:[(0,l.jsx)(i.A,{className:"w-5 h-5 mr-1"}),"vs",(0,l.jsx)(n.A,{className:"w-5 h-5 ml-1"})]}):"双人对战"})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!x.isGameStarted&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"中国象棋"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"楚河汉界，智慧对决！"}),(0,l.jsx)("div",{className:"flex gap-2",children:(0,l.jsxs)(s.$,{onClick:()=>E("human"),children:[(0,l.jsx)(i.A,{className:"w-4 h-4 mr-1"}),"双人对战"]})})]}),x.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"游戏结束"}),(0,l.jsxs)("p",{className:"text-lg mb-4",children:["red"===x.winner?"红方":"黑方","获胜！"]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(s.$,{onClick:M,children:"再玩一次"}),(0,l.jsx)(s.$,{variant:"outline",onClick:()=>g({...x,isGameStarted:!1}),children:"返回菜单"})]})]}),(0,l.jsx)("div",{className:"flex justify-center items-center h-full overflow-auto",children:x.isGameStarted&&(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)("div",{className:"bg-yellow-100 p-4 rounded-lg shadow-lg",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"absolute left-0 right-0 top-1/2 transform -translate-y-1/2 h-6 bg-yellow-200 flex items-center justify-center text-xs font-bold text-gray-700",children:"楚河 ————————— 汉界"}),(0,l.jsxs)("div",{className:"grid gap-0 relative",style:{gridTemplateColumns:"repeat(9, 1fr)",width:"288px",height:"320px"},children:[(0,l.jsxs)("svg",{className:"absolute inset-0 pointer-events-none",width:"288",height:"320",children:[Array(9).fill(0).map((e,t)=>(0,l.jsx)("line",{x1:32*t+16,y1:16,x2:32*t+16,y2:304,stroke:"#8B4513",strokeWidth:"1"},"v-".concat(t))),Array(10).fill(0).map((e,t)=>(0,l.jsx)("line",{x1:16,y1:32*t+16,x2:272,y2:32*t+16,stroke:"#8B4513",strokeWidth:"1"},"h-".concat(t))),(0,l.jsx)("line",{x1:112,y1:16,x2:176,y2:80,stroke:"#8B4513",strokeWidth:"1"}),(0,l.jsx)("line",{x1:176,y1:16,x2:112,y2:80,stroke:"#8B4513",strokeWidth:"1"}),(0,l.jsx)("line",{x1:112,y1:240,x2:176,y2:304,stroke:"#8B4513",strokeWidth:"1"}),(0,l.jsx)("line",{x1:176,y1:240,x2:112,y2:304,stroke:"#8B4513",strokeWidth:"1"})]}),e.map((e,t)=>e.map((e,r)=>(0,l.jsx)("div",{className:"w-8 h-8 flex items-center justify-center cursor-pointer hover:bg-yellow-200 hover:bg-opacity-50",onClick:()=>j(t,r),children:k(e,t,r)},"".concat(t,"-").concat(r))))]})]})})})})]}),x.isGameStarted&&!x.isGameOver&&(0,l.jsx)("div",{className:"mt-4 flex justify-center",children:(0,l.jsxs)(s.$,{variant:"outline",onClick:M,children:[(0,l.jsx)(c.A,{className:"w-4 h-4 mr-1"})," 重新开始"]})}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"游戏说明: 中国象棋，红方先行。点击选择棋子，再点击目标位置移动。将死对方获胜。"})})]})}},2654:(e,t,r)=>{r.d(t,{RacingGame:()=>i});var l=r(8538),a=r(610),s=r(9714);function i(){let e=(0,a.useRef)(null),t=(0,a.useRef)(),r=(0,a.useRef)(new Set),i=(0,a.useRef)(0),n=(0,a.useRef)(null),[c,o]=(0,a.useState)({score:0,time:0,lap:0,isGameOver:!1,isGameStarted:!1,playerCar:{x:0,y:0,width:30,height:50,speed:0,angle:0,color:"#FF5252",isPlayer:!0},otherCars:[],obstacles:[]}),h=()=>{if(!e.current)return;let t=e.current;if(t.width=t.offsetWidth,t.height=t.offsetHeight,!n.current){let e=new Image;e.src="/placeholder.svg?height=800&width=800",e.crossOrigin="anonymous",n.current=e}let r={x:t.width/2,y:t.height-100,width:30,height:50,speed:0,angle:0,color:"#FF5252",isPlayer:!0},l=[];for(let e=0;e<3;e++)l.push({x:t.width/2+(e-1)*40,y:t.height-200-100*e,width:30,height:50,speed:2+Math.random(),angle:0,color:"hsl(".concat(360*Math.random(),", 70%, 50%)")});let a=[];for(let e=0;e<5;e++)a.push({x:Math.random()*(t.width-20),y:Math.random()*(t.height-300),width:20+30*Math.random(),height:20+30*Math.random()});o({score:0,time:0,lap:0,isGameOver:!1,isGameStarted:!0,playerCar:r,otherCars:l,obstacles:a})},d=r=>{if(!e.current||c.isGameOver)return;let l=r-i.current;i.current=r,m(l/16),u(),t.current=requestAnimationFrame(d)},m=t=>{o(l=>{if(!e.current)return l;let a=e.current,s=l.time+t/60,{playerCar:i,otherCars:n,obstacles:c,score:o,lap:h,isGameOver:d}={...l},m={...i};r.current.has("ArrowUp")||r.current.has("w")?m.speed=Math.min(m.speed+.1*t,5):r.current.has("ArrowDown")||r.current.has("s")?m.speed=Math.max(m.speed-.2*t,-2):m.speed>0?m.speed=Math.max(m.speed-.05*t,0):m.speed<0&&(m.speed=Math.min(m.speed+.05*t,0)),(r.current.has("ArrowLeft")||r.current.has("a"))&&(m.angle-=.05*t*(m.speed/2)),(r.current.has("ArrowRight")||r.current.has("d"))&&(m.angle+=.05*t*(m.speed/2)),m.x+=Math.sin(m.angle)*m.speed*t,m.y-=Math.cos(m.angle)*m.speed*t,m.x<0&&(m.x=0),m.x>a.width-m.width&&(m.x=a.width-m.width),m.y<0&&(m.y=0),m.y>a.height-m.height&&(m.y=a.height-m.height),m.y>a.height-60&&m.y<a.height-40&&50>Math.abs(m.x-a.width/2)&&l.playerCar.y<a.height-60&&(h+=1,o+=100);let u=n.map(e=>{let r={...e};return Math.random()>.95&&(r.angle+=(Math.random()-.5)*.1),r.x+=Math.sin(r.angle)*r.speed*t,r.y-=Math.cos(r.angle)*r.speed*t,(r.x<0||r.x>a.width-r.width)&&(r.angle=-r.angle),(r.y<0||r.y>a.height-r.height)&&(r.angle=Math.PI-r.angle),r});for(let e of u)f(m,e)&&(m.speed*=-.5,d=!0);for(let e of c)f(m,e)&&(m.speed*=-.5,d=!0);return{...l,playerCar:m,otherCars:u,score:o,time:s,lap:h,isGameOver:d}})},f=(e,t)=>e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y,u=()=>{if(!e.current)return;let t=e.current,r=t.getContext("2d");if(r){r.clearRect(0,0,t.width,t.height),r.fillStyle="#333333",r.fillRect(0,0,t.width,t.height),r.fillStyle="#666666",r.fillRect(50,50,t.width-100,t.height-100),r.fillStyle="#444444",r.fillRect(100,100,t.width-200,t.height-200),r.fillStyle="#FFFFFF";for(let e=0;e<8;e++)r.fillRect(t.width/2-50+20*e,t.height-50,10,10);r.fillStyle="#8B4513",c.obstacles.forEach(e=>{r.fillRect(e.x,e.y,e.width,e.height)}),c.otherCars.forEach(e=>{x(r,e)}),x(r,c.playerCar),r.fillStyle="#FFFFFF",r.font="16px Arial",r.fillText("圈数: ".concat(c.lap),10,30),r.fillText("时间: ".concat(c.time.toFixed(1),"秒"),10,50),r.fillText("分数: ".concat(c.score),10,70)}},x=(e,t)=>{e.save(),e.translate(t.x+t.width/2,t.y+t.height/2),e.rotate(t.angle),e.fillStyle=t.color,e.fillRect(-t.width/2,-t.height/2,t.width,t.height),e.fillStyle="#333333",e.fillRect(-t.width/2+5,-t.height/2+5,t.width-10,10),e.restore()};return(0,a.useEffect)(()=>{let e=e=>{r.current.add(e.key),["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"," "].includes(e.key)&&c.isGameStarted&&!c.isGameOver&&e.preventDefault()},t=e=>{r.current.delete(e.key)};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[c.isGameStarted,c.isGameOver]),(0,a.useEffect)(()=>{let r=()=>{e.current&&(e.current.width=e.current.offsetWidth,e.current.height=e.current.offsetHeight,u())};return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r),t.current&&cancelAnimationFrame(t.current)}},[]),(0,a.useEffect)(()=>{u()},[c]),(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold",children:["分数: ",c.score]}),(0,l.jsxs)("div",{className:"text-lg font-bold",children:["圈数: ",c.lap]}),(0,l.jsxs)("div",{className:"text-lg font-bold",children:["时间: ",c.time.toFixed(1),"秒"]})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!c.isGameStarted&&!c.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"赛车竞速"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"使用方向键或WASD控制赛车。上/W加速，下/S减速，左右/AD转向。尽可能多跑几圈并避免碰撞！"}),(0,l.jsx)(s.$,{onClick:()=>{h(),i.current=performance.now(),t.current=requestAnimationFrame(d)},children:"开始游戏"})]}),c.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"游戏结束"}),(0,l.jsxs)("p",{className:"text-lg mb-2",children:["最终得分: ",c.score]}),(0,l.jsxs)("p",{className:"text-lg mb-4",children:["完成圈数: ",c.lap]}),(0,l.jsx)(s.$,{onClick:()=>{h(),i.current=performance.now(),t.current=requestAnimationFrame(d)},children:"再玩一次"})]}),(0,l.jsx)("canvas",{ref:e,className:"w-full h-full border rounded-md",tabIndex:0})]}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"游戏说明: 使用方向键或WASD控制赛车。上/W加速，下/S减速，左右/AD转向。尽可能多跑几圈并避免碰撞！"})})]})}},3729:(e,t,r)=>{r.d(t,{cn:()=>s});var l=r(7664),a=r(3301);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,l.$)(t))}},4140:(e,t,r)=>{r.d(t,{ArmyChessGame:()=>m});var l=r(8538),a=r(610),s=r(9714),i=r(7192),n=r(7311);let c={EMPTY:0,RED_COMMANDER:1,RED_GENERAL:2,RED_DIVISION:3,RED_BRIGADE:4,RED_REGIMENT:5,RED_BATTALION:6,RED_COMPANY:7,RED_PLATOON:8,RED_ENGINEER:9,RED_BOMB:10,RED_FLAG:11,BLUE_COMMANDER:12,BLUE_GENERAL:13,BLUE_DIVISION:14,BLUE_BRIGADE:15,BLUE_REGIMENT:16,BLUE_BATTALION:17,BLUE_COMPANY:18,BLUE_PLATOON:19,BLUE_ENGINEER:20,BLUE_BOMB:21,BLUE_FLAG:22,UNKNOWN:23},o={[c.RED_COMMANDER]:"司",[c.RED_GENERAL]:"军",[c.RED_DIVISION]:"师",[c.RED_BRIGADE]:"旅",[c.RED_REGIMENT]:"团",[c.RED_BATTALION]:"营",[c.RED_COMPANY]:"连",[c.RED_PLATOON]:"排",[c.RED_ENGINEER]:"工",[c.RED_BOMB]:"炸",[c.RED_FLAG]:"旗",[c.BLUE_COMMANDER]:"司",[c.BLUE_GENERAL]:"军",[c.BLUE_DIVISION]:"师",[c.BLUE_BRIGADE]:"旅",[c.BLUE_REGIMENT]:"团",[c.BLUE_BATTALION]:"营",[c.BLUE_COMPANY]:"连",[c.BLUE_PLATOON]:"排",[c.BLUE_ENGINEER]:"工",[c.BLUE_BOMB]:"炸",[c.BLUE_FLAG]:"旗",[c.UNKNOWN]:"？"},h={[c.RED_COMMANDER]:1,[c.RED_GENERAL]:2,[c.RED_DIVISION]:3,[c.RED_BRIGADE]:4,[c.RED_REGIMENT]:5,[c.RED_BATTALION]:6,[c.RED_COMPANY]:7,[c.RED_PLATOON]:8,[c.RED_ENGINEER]:9,[c.BLUE_COMMANDER]:1,[c.BLUE_GENERAL]:2,[c.BLUE_DIVISION]:3,[c.BLUE_BRIGADE]:4,[c.BLUE_REGIMENT]:5,[c.BLUE_BATTALION]:6,[c.BLUE_COMPANY]:7,[c.BLUE_PLATOON]:8,[c.BLUE_ENGINEER]:9},d=()=>{let e=[c.RED_COMMANDER,c.RED_GENERAL,c.RED_DIVISION,c.RED_BRIGADE,c.RED_REGIMENT,c.RED_BATTALION,c.RED_COMPANY,c.RED_PLATOON,c.RED_ENGINEER,c.RED_ENGINEER,c.RED_ENGINEER,c.RED_BOMB,c.RED_BOMB,c.RED_FLAG],t=[c.BLUE_COMMANDER,c.BLUE_GENERAL,c.BLUE_DIVISION,c.BLUE_BRIGADE,c.BLUE_REGIMENT,c.BLUE_BATTALION,c.BLUE_COMPANY,c.BLUE_PLATOON,c.BLUE_ENGINEER,c.BLUE_ENGINEER,c.BLUE_ENGINEER,c.BLUE_BOMB,c.BLUE_BOMB,c.BLUE_FLAG],r=e=>{let t=[...e];for(let e=t.length-1;e>0;e--){let r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t},l=r(e),a=r(t),s=Array(6).fill(null).map(()=>Array(6).fill(c.EMPTY)),i=0;for(let e=3;e<6;e++)for(let t=0;t<6;t++)i<l.length&&(s[e][t]=l[i++]);let n=0;for(let e=0;e<3;e++)for(let t=0;t<6;t++)n<a.length&&(s[e][t]=a[n++]);return s};function m(){let[e,t]=(0,a.useState)(()=>d()),[r,m]=(0,a.useState)(()=>Array(6).fill(null).map(()=>Array(6).fill(!1))),[f,u]=(0,a.useState)("red"),[x,g]=(0,a.useState)(null),[v,p]=(0,a.useState)({isGameStarted:!1,isGameOver:!1,winner:null}),[y,b]=(0,a.useState)("flip"),w=e=>e>=c.RED_COMMANDER&&e<=c.RED_FLAG,N=e=>e>=c.BLUE_COMMANDER&&e<=c.BLUE_FLAG,j=(0,a.useCallback)((e,t)=>{if(e===c.RED_BOMB||e===c.BLUE_BOMB)return t===c.RED_ENGINEER||t===c.BLUE_ENGINEER?"defender_wins":"both_die";if(t===c.RED_BOMB||t===c.BLUE_BOMB)return e===c.RED_ENGINEER||e===c.BLUE_ENGINEER?"attacker_wins":"both_die";if(t===c.RED_FLAG||t===c.BLUE_FLAG)return"attacker_wins";let r=h[e],l=h[t];return r<l?"attacker_wins":r>l?"defender_wins":"both_die"},[]),E=(0,a.useCallback)((t,r,l,a)=>{if(l<0||l>=6||a<0||a>=6||Math.abs(l-t)+Math.abs(a-r)!==1)return!1;let s=e[t][r];return s!==c.RED_FLAG&&s!==c.BLUE_FLAG&&s!==c.RED_BOMB&&s!==c.BLUE_BOMB},[e]),M=(l,a)=>{if(v.isGameOver)return;let s=e[l][a],i=r[l][a];if("flip"===y){if(i||s===c.EMPTY){if(i&&x){let{row:r,col:i}=x,n=e[r][i];if(E(r,i,l,a)&&("red"===f&&w(n)||"blue"===f&&N(n))&&(w(n)&&N(s)||N(n)&&w(s))){let o=j(n,s),h=e.map(e=>[...e]);switch(o){case"attacker_wins":h[l][a]=n,h[r][i]=c.EMPTY;break;case"defender_wins":h[r][i]=c.EMPTY;break;case"both_die":h[l][a]=c.EMPTY,h[r][i]=c.EMPTY}t(h),g(null),s===c.RED_FLAG&&"attacker_wins"===o?p(e=>({...e,isGameOver:!0,winner:"blue"})):s===c.BLUE_FLAG&&"attacker_wins"===o?p(e=>({...e,isGameOver:!0,winner:"red"})):u("red"===f?"blue":"red")}}else i&&("red"===f&&w(s)||"blue"===f&&N(s))&&g({row:l,col:a})}else{let e=r.map(e=>[...e]);e[l][a]=!0,m(e),s===c.RED_FLAG?p(e=>({...e,isGameOver:!0,winner:"blue"})):s===c.BLUE_FLAG&&p(e=>({...e,isGameOver:!0,winner:"red"})),u("red"===f?"blue":"red")}}},k=e=>{t(d()),m(Array(6).fill(null).map(()=>Array(6).fill(!1))),u("red"),g(null),p({isGameStarted:!0,isGameOver:!1,winner:null}),b(e)},S=()=>{k(y)},A=(e,t,a)=>{if(e===c.EMPTY)return null;let s=r[t][a],i=x&&x.row===t&&x.col===a,n=w(e);return s||"flip"!==y?(0,l.jsx)("div",{className:"w-8 h-8 rounded border-2 flex items-center justify-center text-xs font-bold cursor-pointer\n          ".concat(n?"bg-red-100 border-red-500 text-red-700":"bg-blue-100 border-blue-500 text-blue-700","\n          ").concat(i?"ring-2 ring-yellow-500":"","\n          hover:shadow-md transition-shadow\n        "),children:o[e]}):(0,l.jsx)("div",{className:"w-8 h-8 bg-gray-400 border-2 border-gray-600 rounded flex items-center justify-center text-white font-bold cursor-pointer hover:bg-gray-500",children:"？"})};return(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold",children:["当前玩家: ","red"===f?"红方":"蓝方"]}),(0,l.jsx)("div",{className:"text-lg font-bold",children:"flip"===y?"翻棋模式":"布局模式"})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!v.isGameStarted&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"军棋"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"翻棋对战，找到对方军旗获胜！"}),(0,l.jsx)("div",{className:"flex gap-2",children:(0,l.jsxs)(s.$,{onClick:()=>k("flip"),children:[(0,l.jsx)(i.A,{className:"w-4 h-4 mr-1"}),"翻棋模式"]})})]}),v.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"游戏结束"}),(0,l.jsxs)("p",{className:"text-lg mb-4",children:["red"===v.winner?"红方":"蓝方","获胜！"]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(s.$,{onClick:S,children:"再玩一次"}),(0,l.jsx)(s.$,{variant:"outline",onClick:()=>p({...v,isGameStarted:!1}),children:"返回菜单"})]})]}),(0,l.jsx)("div",{className:"flex justify-center items-center h-full overflow-auto",children:v.isGameStarted&&(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)("div",{className:"bg-green-100 p-4 rounded-lg shadow-lg",children:(0,l.jsx)("div",{className:"grid gap-1 relative",style:{gridTemplateColumns:"repeat(6, 1fr)",width:"240px",height:"240px"},children:e.map((e,t)=>e.map((e,r)=>(0,l.jsx)("div",{className:"w-10 h-10 bg-yellow-100 border border-gray-400 flex items-center justify-center cursor-pointer hover:bg-yellow-200",onClick:()=>M(t,r),children:A(e,t,r)},"".concat(t,"-").concat(r))))})})})})]}),v.isGameStarted&&!v.isGameOver&&(0,l.jsx)("div",{className:"mt-4 flex justify-center",children:(0,l.jsxs)(s.$,{variant:"outline",onClick:S,children:[(0,l.jsx)(n.A,{className:"w-4 h-4 mr-1"})," 重新开始"]})}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"游戏说明: 翻棋模式，轮流翻开棋子。找到对方军旗或消灭对方所有棋子获胜。"})})]})}},4231:(e,t,r)=>{r.d(t,{BlockEliminationGame:()=>n});var l=r(8538),a=r(610),s=r(9714);let i=["#FF5252","#4CAF50","#2196F3","#FFC107","#9C27B0","#00BCD4"];function n(){let e=(0,a.useRef)(null),[t,r]=(0,a.useState)([]),[n,c]=(0,a.useState)({score:0,timeLeft:60,isGameOver:!1,isGameStarted:!1}),o=(0,a.useRef)(),h=(0,a.useRef)(0),d=()=>{if(!e.current)return;let t=e.current;if(!t.getContext("2d"))return;t.width=t.offsetWidth,t.height=t.offsetHeight;let l=[],a=Math.floor(t.width/50),s=Math.floor(t.height/50);for(let e=0;e<s;e++)for(let t=0;t<a;t++)l.push({x:50*t,y:50*e,color:i[Math.floor(Math.random()*i.length)],width:50,height:50,isVisible:!0});r(l),c({score:0,timeLeft:60,isGameOver:!1,isGameStarted:!0})},m=t=>{if(!e.current)return;let r=t-h.current;h.current=t,n.isGameStarted&&!n.isGameOver&&c(e=>{let t=Math.max(0,e.timeLeft-r/1e3);return{...e,timeLeft:t,isGameOver:t<=0}}),f(),n.isGameOver||(o.current=requestAnimationFrame(m))},f=()=>{if(!e.current)return;let r=e.current,l=r.getContext("2d");l&&(l.clearRect(0,0,r.width,r.height),t.forEach(e=>{e.isVisible&&(l.fillStyle=e.color,l.fillRect(e.x,e.y,e.width,e.height),l.strokeStyle="#FFF",l.lineWidth=2,l.strokeRect(e.x,e.y,e.width,e.height))}))},u=(r,l)=>{let a=e.current;if(!a)return[];let s=Math.floor(a.width/50),i=Array(t.length).fill(!1),n=[],c=e=>{if(e<0||e>=t.length||i[e]||!t[e].isVisible||t[e].color!==l)return;i[e]=!0,n.push(e);let r=Math.floor(e/s),a=e%s;r>0&&c(e-s),r<Math.floor(t.length/s)-1&&c(e+s),a>0&&c(e-1),a<s-1&&c(e+1)};return c(r),n};return(0,a.useEffect)(()=>{let t=()=>{e.current&&(e.current.width=e.current.offsetWidth,e.current.height=e.current.offsetHeight,f())};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t),o.current&&cancelAnimationFrame(o.current)}},[]),(0,a.useEffect)(()=>{f()},[t,n]),(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold",children:["分数: ",n.score]}),(0,l.jsxs)("div",{className:"text-lg font-bold",children:["时间: ",Math.ceil(n.timeLeft),"秒"]})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!n.isGameStarted&&!n.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"方块消除"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"点击相邻的相同颜色方块来消除它们，获得分数！"}),(0,l.jsx)(s.$,{onClick:()=>{d(),h.current=performance.now(),o.current=requestAnimationFrame(m)},children:"开始游戏"})]}),n.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"游戏结束"}),(0,l.jsxs)("p",{className:"text-lg mb-4",children:["最终得分: ",n.score]}),(0,l.jsx)(s.$,{onClick:()=>{d(),h.current=performance.now(),o.current=requestAnimationFrame(m)},children:"再玩一次"})]}),(0,l.jsx)("canvas",{ref:e,onClick:l=>{if(n.isGameOver||!n.isGameStarted)return;let a=e.current;if(!a)return;let s=a.getBoundingClientRect(),i=l.clientX-s.left,o=l.clientY-s.top,h=t.findIndex(e=>e.isVisible&&i>=e.x&&i<=e.x+e.width&&o>=e.y&&o<=e.y+e.height);if(-1!==h){let e=t[h].color,l=u(h,e);if(l.length>=2){let e=[...t];l.forEach(t=>{e[t]={...e[t],isVisible:!1}}),r(e),c(e=>({...e,score:e.score+10*l.length}))}}},className:"w-full h-full border rounded-md"})]}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"游戏说明: 点击相邻的相同颜色方块来消除它们。消除的方块越多，得分越高。"})})]})}},4936:(e,t,r)=>{r.d(t,{BT:()=>o,Wu:()=>h,ZB:()=>c,Zp:()=>i,aR:()=>n,wL:()=>d});var l=r(8538),a=r(610),s=r(3729);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...a})});n.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...a})});o.displayName="CardDescription";let h=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...a})});h.displayName="CardContent";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,l.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...a})});d.displayName="CardFooter"},5422:(e,t,r)=>{r.d(t,{TetrisGame:()=>f});var l=r(8538),a=r(610),s=r(9714),i=r(7810),n=r(7343),c=r(3482);let o={"cyan-500":"#06b6d4","blue-500":"#3b82f6","orange-500":"#f97316","yellow-500":"#eab308","green-500":"#22c55e","purple-500":"#a855f7","red-500":"#ef4444"},h={I:{shape:[[1,1,1,1]],color:"cyan-500"},J:{shape:[[1,0,0],[1,1,1]],color:"blue-500"},L:{shape:[[0,0,1],[1,1,1]],color:"orange-500"},O:{shape:[[1,1],[1,1]],color:"yellow-500"},S:{shape:[[0,1,1],[1,1,0]],color:"green-500"},T:{shape:[[0,1,0],[1,1,1]],color:"purple-500"},Z:{shape:[[1,1,0],[0,1,1]],color:"red-500"}},d=()=>Array.from({length:20},()=>Array(10).fill(0)),m=()=>{let e=Object.keys(h);return h[e[Math.floor(Math.random()*e.length)]]};function f(){let[e,t]=(0,a.useState)(d()),[r,h]=(0,a.useState)(null),[f,u]=(0,a.useState)(0),[x,g]=(0,a.useState)(!1),[v,p]=(0,a.useState)(800),[y,b]=(0,a.useState)(1),[w,N]=(0,a.useState)(!1),[j,E]=(0,a.useState)([]),M=(0,a.useRef)(null),k=(0,a.useRef)(null),S=(t,r,l)=>{for(let a=0;a<l.length;a++)for(let s=0;s<l[a].length;s++)if(0!==l[a][s]){let l=t+s,i=r+a;if(l<0||l>=10||i>=20||i>=0&&0!==e[i][l])return!0}return!1},A=(e,t,r)=>!S(e,t,r),R=(0,a.useCallback)(()=>{r&&A(r.x-1,r.y,r.tetromino.shape)&&h(e=>({...e,x:e.x-1}))},[r,e]),G=(0,a.useCallback)(()=>{r&&A(r.x+1,r.y,r.tetromino.shape)&&h(e=>({...e,x:e.x+1}))},[r,e]),C=(0,a.useCallback)(()=>{r&&(A(r.x,r.y+1,r.tetromino.shape)?h(e=>({...e,y:e.y+1})):T())},[r,e]),I=(0,a.useCallback)(()=>{if(!r)return;let e=r.tetromino.shape[0].map((e,t)=>r.tetromino.shape.map(e=>e[t]).reverse()),t=r.x,l=r.y;if(!A(t,l,e)){if(A(t-1,l,e))t-=1;else if(A(t+1,l,e))t+=1;else{if(!A(t,l-1,e))return;l-=1}}h(r=>({...r,x:t,y:l,tetromino:{...r.tetromino,shape:e}})),A(t,l+1,e)&&l+1<20&&h(e=>({...e,y:e.y+1}))},[r,e]),T=(0,a.useCallback)(()=>{if(!r)return;let l=e.map(e=>[...e]);r.tetromino.shape.forEach((e,t)=>{e.forEach((e,a)=>{if(0!==e){let e=t+r.y,s=a+r.x;e>=0&&e<20&&s>=0&&s<10&&(l[e][s]=r.tetromino.color)}})}),t(l),O(l),L()},[r,e]),O=(0,a.useCallback)(e=>{let r=[],l=e.filter((e,t)=>!e.every(e=>0!==e)||(r.push(t),!1));r.length>0&&(E(r),setTimeout(()=>{for(;l.length<20;)l.unshift(Array(10).fill(0));t(l),E([]);let e=f+100*r.length;u(e),Math.floor(e/500)>y-1&&(b(e=>e+1),p(e=>.95*e))},500))},[f,y]),L=(0,a.useCallback)(()=>{let e={x:Math.floor(5)-1,y:0,tetromino:m()};S(e.x,e.y,e.tetromino.shape)?g(!0):h(e)},[e]);(0,a.useEffect)(()=>{r||x||L()},[r,x,L]),(0,a.useEffect)(()=>(x||(k.current=setInterval(C,v)),()=>clearInterval(k.current)),[C,x,v]),(0,a.useEffect)(()=>{let e=e=>{if(!x)switch(e.key){case"ArrowLeft":R();break;case"ArrowRight":G();break;case"ArrowDown":C();break;case"ArrowUp":I()}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[R,G,C,I,x]),(0,a.useEffect)(()=>{M.current&&(M.current.volume=.5,M.current.loop=!0,!x&&w?M.current.play().catch(e=>console.error("Audio playback failed:",e)):M.current.pause())},[x,w]);let P=()=>{t(d()),h(null),u(0),g(!1),p(800),b(1),E([]),clearInterval(k.current)},_=(t,l)=>r&&r.tetromino.shape[l-r.y]&&r.tetromino.shape[l-r.y][t-r.x]?r.tetromino.color:e[l][t];return(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold",children:["分数: ",f]}),(0,l.jsxs)("div",{className:"text-lg font-bold",children:["等级: ",y]}),(0,l.jsxs)(s.$,{variant:"ghost",size:"sm",onClick:()=>{N(!w)},className:"flex items-center",children:[(0,l.jsx)(c.A,{className:"w-4 h-4 mr-2"}),w?"关闭音乐":"开启音乐"]})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!r&&!x&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"俄罗斯方块"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"使用方向键控制方块：左右移动，向上旋转，向下加速。消除完整的行获得分数！"}),(0,l.jsx)(s.$,{onClick:P,children:"开始游戏"})]}),x&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"游戏结束"}),(0,l.jsxs)("p",{className:"text-lg mb-4",children:["最终得分: ",f]}),(0,l.jsx)(s.$,{onClick:P,children:"再玩一次"})]}),(0,l.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,l.jsx)("div",{className:"grid bg-gray-100 border border-gray-300 rounded-md shadow-md",style:{gridTemplateColumns:"repeat(".concat(10,", 1fr)"),width:"".concat(200,"px"),height:"".concat(400,"px")},children:e.map((e,t)=>e.map((e,r)=>(0,l.jsx)(i.N,{children:(0,l.jsx)(n.P.div,{initial:!1,animate:{opacity:+!j.includes(t),scale:j.includes(t)?1.1:1},transition:{duration:.3},className:"".concat(_(r,t)?"":"bg-gray-100"),style:{border:"1px solid #e5e7eb",backgroundColor:_(r,t)?o[_(r,t)]:""}})},"".concat(t,"-").concat(r))))})}),(0,l.jsxs)("div",{className:"md:hidden mt-4 grid grid-cols-3 gap-2 w-full max-w-xs mx-auto",children:[(0,l.jsx)("div",{}),(0,l.jsx)(s.$,{variant:"outline",onClick:I,className:"w-full",children:"上"}),(0,l.jsx)("div",{}),(0,l.jsx)(s.$,{variant:"outline",onClick:R,className:"w-full",children:"左"}),(0,l.jsx)(s.$,{variant:"outline",onClick:C,className:"w-full",children:"下"}),(0,l.jsx)(s.$,{variant:"outline",onClick:G,className:"w-full",children:"右"})]})]}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"游戏说明: 使用方向键控制方块：左右移动，向上旋转，向下加速。消除完整的行获得分数！"})}),(0,l.jsx)("audio",{ref:M,src:"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/Tetris-kxnh5j7hpNEcFspAndlU2huV5n6dvk.mp3"})]})}},5910:(e,t,r)=>{r.d(t,{GoGame:()=>c});var l=r(8538),a=r(610),s=r(9714),i=r(4852),n=r(7311);function c(){let[e,t]=(0,a.useState)(()=>Array(19).fill(null).map(()=>Array(19).fill(0))),[r,c]=(0,a.useState)(1),[o,h]=(0,a.useState)({isGameStarted:!1,isGameOver:!1,blackCaptures:0,whiteCaptures:0}),[d,m]=(0,a.useState)("human"),[f,u]=(0,a.useState)(null),[x,g]=(0,a.useState)(null),v=(0,a.useCallback)((e,t)=>{let r=[];for(let[l,a]of[[-1,0],[1,0],[0,-1],[0,1]]){let s=e+l,i=t+a;s>=0&&s<19&&i>=0&&i<19&&r.push([s,i])}return r},[]),p=(0,a.useCallback)(function(e,t,r){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set,a="".concat(t,",").concat(r);if(l.has(a))return[];let s=e[t][r];if(0===s)return[];l.add(a);let i=[[t,r]];for(let[a,n]of v(t,r))e[a][n]===s&&i.push(...p(e,a,n,l));return i},[v]),y=(0,a.useCallback)((e,t)=>{for(let[r,l]of t)for(let[t,a]of v(r,l))if(0===e[t][a])return!0;return!1},[v]),b=(0,a.useCallback)((e,t)=>{let r=e.map(e=>[...e]),l=0,a=new Set;for(let s=0;s<19;s++)for(let i=0;i<19;i++){let n="".concat(s,",").concat(i);if(e[s][i]===t&&!a.has(n)){let t=p(e,s,i,new Set);if(t.forEach(e=>{let[t,r]=e;return a.add("".concat(t,",").concat(r))}),!y(e,t))for(let[e,a]of t)r[e][a]=0,l++}}return{board:r,captures:l}},[p,y]),w=(0,a.useCallback)((e,t,r,l)=>{let a=e.map(e=>[...e]);a[t][r]=l;let{board:s}=b(a,1===l?2:1),i=p(s,t,r,new Set);return!y(s,i)},[b,p,y]),N=(0,a.useCallback)((l,a)=>{if(o.isGameOver||0!==e[l][a]||w(e,l,a,r)||x&&x.row===l&&x.col===a)return;let s=e.map(e=>[...e]);s[l][a]=r;let i=1===r?2:1,{board:n,captures:d}=b(s,i);if(t(n),u({row:l,col:a}),h(e=>({...e,blackCaptures:1===r?e.blackCaptures:e.blackCaptures+d,whiteCaptures:2===r?e.whiteCaptures:e.whiteCaptures+d})),1===d){for(let t=0;t<19;t++)for(let r=0;r<19;r++)if(e[t][r]===i&&0===n[t][r]){g({row:t,col:r});break}}else g(null);c(1===r?2:1)},[e,r,o.isGameOver,w,x,b]),j=e=>{t(Array(19).fill(null).map(()=>Array(19).fill(0))),c(1),h({isGameStarted:!0,isGameOver:!1,blackCaptures:0,whiteCaptures:0}),m(e),u(null),g(null)},E=()=>{j(d)},M=(e,t,r)=>{if(0===e)return null;let a=f&&f.row===t&&f.col===r;return(0,l.jsx)("div",{className:"w-5 h-5 rounded-full border ".concat(1===e?"bg-gray-800 border-gray-900":"bg-white border-gray-300 shadow-md"," ").concat(a?"ring-2 ring-red-500":"")})};return(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold flex items-center",children:["当前玩家:"," ",1===r?(0,l.jsxs)("span",{className:"flex items-center ml-2",children:[(0,l.jsx)("div",{className:"w-4 h-4 bg-gray-800 rounded-full mr-1"}),"黑棋"]}):(0,l.jsxs)("span",{className:"flex items-center ml-2",children:[(0,l.jsx)("div",{className:"w-4 h-4 bg-white border border-gray-300 rounded-full mr-1"}),"白棋"]})]}),(0,l.jsxs)("div",{className:"text-sm",children:[(0,l.jsxs)("div",{children:["黑棋提子: ",o.blackCaptures]}),(0,l.jsxs)("div",{children:["白棋提子: ",o.whiteCaptures]})]})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!o.isGameStarted&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"围棋"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"黑白对弈，围地制胜！"}),(0,l.jsx)("div",{className:"flex gap-2",children:(0,l.jsxs)(s.$,{onClick:()=>j("human"),children:[(0,l.jsx)(i.A,{className:"w-4 h-4 mr-1"}),"双人对战"]})})]}),o.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"游戏结束"}),(0,l.jsxs)("p",{className:"text-lg mb-2",children:["黑棋提子: ",o.blackCaptures]}),(0,l.jsxs)("p",{className:"text-lg mb-4",children:["白棋提子: ",o.whiteCaptures]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(s.$,{onClick:E,children:"再玩一次"}),(0,l.jsx)(s.$,{variant:"outline",onClick:()=>h({...o,isGameStarted:!1}),children:"返回菜单"})]})]}),(0,l.jsx)("div",{className:"flex justify-center items-center h-full overflow-auto",children:o.isGameStarted&&(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)("div",{className:"bg-yellow-100 p-2 rounded-lg shadow-lg",children:(0,l.jsxs)("div",{className:"grid gap-0 relative",style:{gridTemplateColumns:"repeat(".concat(19,", 1fr)"),width:"".concat(304,"px"),height:"".concat(304,"px")},children:[(0,l.jsxs)("svg",{className:"absolute inset-0 pointer-events-none",width:304,height:304,children:[Array(19).fill(0).map((e,t)=>(0,l.jsx)("line",{x1:16*t+8,y1:8,x2:16*t+8,y2:296,stroke:"#8B4513",strokeWidth:"1"},"v-".concat(t))),Array(19).fill(0).map((e,t)=>(0,l.jsx)("line",{x1:8,y1:16*t+8,x2:296,y2:16*t+8,stroke:"#8B4513",strokeWidth:"1"},"h-".concat(t))),[[3,3],[3,9],[3,15],[9,3],[9,9],[9,15],[15,3],[15,9],[15,15]].map((e,t)=>{let[r,a]=e;return(0,l.jsx)("circle",{cx:16*a+8,cy:16*r+8,r:"2",fill:"#8B4513"},t)})]}),e.map((e,t)=>e.map((e,r)=>(0,l.jsx)("div",{className:"w-4 h-4 flex items-center justify-center cursor-pointer hover:bg-yellow-200 hover:bg-opacity-50",onClick:()=>N(t,r),children:M(e,t,r)},"".concat(t,"-").concat(r))))]})})})})]}),o.isGameStarted&&!o.isGameOver&&(0,l.jsxs)("div",{className:"mt-4 flex justify-center gap-2",children:[(0,l.jsxs)(s.$,{variant:"outline",onClick:E,children:[(0,l.jsx)(n.A,{className:"w-4 h-4 mr-1"})," 重新开始"]}),(0,l.jsx)(s.$,{variant:"outline",onClick:()=>{h(e=>({...e,isGameOver:!0}))},children:"结束游戏"})]}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"游戏说明: 围棋对弈，黑棋先行。围地多者获胜，提子计分。点击空位下棋。"})})]})}},6290:(e,t,r)=>{r.d(t,{FlightSimulator:()=>n});var l=r(8538),a=r(610),s=r(9714),i=r(7311);function n(){let e=(0,a.useRef)(null),[t,r]=(0,a.useState)({isGameStarted:!1,isGameOver:!1,score:0}),[n,c]=(0,a.useState)({altitude:1e3,speed:200,fuel:100,heading:0,pitch:0,roll:0}),o=(0,a.useRef)({plane:{x:0,y:1e3,z:0,vx:0,vy:0,vz:200,pitch:0,roll:0,yaw:0,throttle:.5,flaps:0},camera:{x:0,y:1020,z:-150,targetX:0,targetY:1e3,targetZ:0},keys:new Set,clouds:[],mountains:[],runways:[],checkpoints:[],particles:[],time:0,weather:{windX:0,windZ:0,turbulence:0}}),h=()=>{let e=o.current;e.plane={x:0,y:1e3,z:0,vx:0,vy:0,vz:200,pitch:0,roll:0,yaw:0,throttle:.5,flaps:0},e.clouds=[];for(let t=0;t<30;t++)e.clouds.push({x:(Math.random()-.5)*5e3,y:800+800*Math.random(),z:(Math.random()-.5)*5e3,size:50+100*Math.random(),opacity:.3+.4*Math.random()});e.mountains=[];for(let t=0;t<50;t++)e.mountains.push({x:(Math.random()-.5)*8e3,y:0,z:(Math.random()-.5)*8e3,height:200+600*Math.random(),width:100+200*Math.random(),color:"hsl(".concat(120+60*Math.random(),", 40%, ").concat(30+20*Math.random(),"%)")});e.runways=[{x:0,y:0,z:2e3,width:50,length:800,heading:0},{x:-1500,y:0,z:-1e3,width:40,length:600,heading:Math.PI/4}],e.checkpoints=[];for(let t=0;t<8;t++){let r=t*Math.PI*2/8;e.checkpoints.push({x:2e3*Math.cos(r),y:800+400*Math.random(),z:2e3*Math.sin(r),collected:!1,rotation:0})}e.particles=[],e.time=0,e.weather={windX:(Math.random()-.5)*20,windZ:(Math.random()-.5)*20,turbulence:.5*Math.random()},r({isGameStarted:!0,isGameOver:!1,score:0}),c({altitude:1e3,speed:200,fuel:100,heading:0,pitch:0,roll:0})};(0,a.useEffect)(()=>{let r;if(!t.isGameStarted||!e.current)return;let l=e.current,a=l.getContext("2d");if(!a)return;l.width=l.offsetWidth,l.height=l.offsetHeight;let s=()=>{let e=o.current;e.time+=.016,d(e),m(e),f(e),u(e),g(a,l,e),E(e),t.isGameOver||(r=requestAnimationFrame(s))};return s(),()=>{r&&cancelAnimationFrame(r)}},[t.isGameStarted,t.isGameOver]);let d=e=>{let t=e.plane,l=e.keys,a=e.weather;(l.has("w")||l.has("W"))&&(t.throttle=Math.min(t.throttle+.01,1)),(l.has("s")||l.has("S"))&&(t.throttle=Math.max(t.throttle-.01,0)),l.has("ArrowUp")&&(t.pitch=Math.max(t.pitch-.01,-.5)),l.has("ArrowDown")&&(t.pitch=Math.min(t.pitch+.01,.5)),l.has("ArrowLeft")&&(t.roll=Math.max(t.roll-.02,-.8)),l.has("ArrowRight")&&(t.roll=Math.min(t.roll+.02,.8)),(l.has("a")||l.has("A"))&&(t.yaw-=.01),(l.has("d")||l.has("D"))&&(t.yaw+=.01),l.has("ArrowLeft")||l.has("ArrowRight")||(t.roll*=.95),l.has("ArrowUp")||l.has("ArrowDown")||(t.pitch*=.98);let s=Math.sqrt(t.vx**2+t.vy**2+t.vz**2),i=500*t.throttle,n=s*s*.02*Math.cos(t.pitch);t.vx+=Math.sin(t.yaw)*i*.001,t.vz+=Math.cos(t.yaw)*i*.001,t.vy+=(n- -9.8-s*s*.01*Math.sin(t.pitch))*.01,t.vx*=.999,t.vz*=.999,t.vy*=.995,t.vx+=.01*a.windX,t.vz+=.01*a.windZ,a.turbulence>0&&(t.vx+=(Math.random()-.5)*a.turbulence,t.vy+=(Math.random()-.5)*a.turbulence,t.vz+=(Math.random()-.5)*a.turbulence),t.x+=.016*t.vx,t.y+=.016*t.vy,t.z+=.016*t.vz,t.y<10&&(t.y=10,t.vy=Math.max(t.vy,0),!e.runways.some(e=>{let r=t.x-e.x,l=t.z-e.z;return Math.abs(r)<e.width&&Math.abs(l)<e.length/2})&&s>50&&r(e=>({...e,isGameOver:!0}))),t.throttle>.3&&.5>Math.random()&&e.particles.push({x:t.x-20*Math.sin(t.yaw),y:t.y-5,z:t.z-20*Math.cos(t.yaw),vx:-(10*Math.sin(t.yaw))+(Math.random()-.5)*5,vy:-2+2*Math.random(),vz:-(10*Math.cos(t.yaw))+(Math.random()-.5)*5,life:1,maxLife:1,size:3+4*Math.random(),color:"rgba(200, 200, 200, 0.6)"})},m=e=>{let t=e.camera,r=e.plane;t.targetX=r.x-150*Math.sin(r.yaw),t.targetY=r.y+30,t.targetZ=r.z-150*Math.cos(r.yaw),t.x+=(t.targetX-t.x)*.05,t.y+=(t.targetY-t.y)*.05,t.z+=(t.targetZ-t.z)*.05},f=e=>{e.particles=e.particles.filter(e=>(e.x+=.016*e.vx,e.y+=.016*e.vy,e.z+=.016*e.vz,e.life-=.02,e.life>0)),e.checkpoints.forEach(e=>{e.rotation+=.03})},u=e=>{let t=e.plane;e.checkpoints.forEach(l=>{if(!l.collected){let a=t.x-l.x,s=t.y-l.y,i=t.z-l.z;if(50>Math.sqrt(a*a+s*s+i*i)){l.collected=!0,r(e=>({...e,score:e.score+100}));for(let t=0;t<15;t++)e.particles.push({x:l.x,y:l.y,z:l.z,vx:(Math.random()-.5)*20,vy:15*Math.random(),vz:(Math.random()-.5)*20,life:1,maxLife:1,size:4+6*Math.random(),color:"rgba(255, 215, 0, 0.9)"})}}});let l=.02*e.plane.throttle;c(e=>({...e,fuel:Math.max(0,e.fuel-l)}))},x=(e,t,r,l,a)=>{let s=e-l.x,i=t-l.y,n=r-l.z;if(n<=0)return null;let c=a.width/2+1e3*s/n;return{x:c,y:a.height/2-1e3*i/n,scale:1e3/n,distance:n}},g=(e,t,r)=>{let l=e.createLinearGradient(0,0,0,t.height);l.addColorStop(0,"#87CEEB"),l.addColorStop(.3,"#98FB98"),l.addColorStop(1,"#228B22"),e.fillStyle=l,e.fillRect(0,0,t.width,t.height);let a=[],s=x(0,0,0,r.camera,t);s&&(e.fillStyle="#90EE90",e.fillRect(0,s.y,t.width,t.height-s.y)),r.mountains.forEach(e=>{let l=x(e.x,e.y+e.height/2,e.z,r.camera,t);l&&a.push({...l,type:"mountain",data:e})}),r.runways.forEach(e=>{let l=x(e.x,e.y,e.z,r.camera,t);l&&a.push({...l,type:"runway",data:e})}),r.clouds.forEach(e=>{let l=x(e.x,e.y,e.z,r.camera,t);l&&a.push({...l,type:"cloud",data:e})}),r.checkpoints.forEach(e=>{if(!e.collected){let l=x(e.x,e.y,e.z,r.camera,t);l&&a.push({...l,type:"checkpoint",data:e})}});let i=x(r.plane.x,r.plane.y,r.plane.z,r.camera,t);i&&a.push({...i,type:"plane",data:r.plane}),r.particles.forEach(e=>{let l=x(e.x,e.y,e.z,r.camera,t);l&&a.push({...l,type:"particle",data:e})}),a.sort((e,t)=>t.distance-e.distance),a.forEach(t=>{switch(t.type){case"mountain":v(e,t);break;case"runway":p(e,t);break;case"cloud":y(e,t);break;case"checkpoint":b(e,t);break;case"plane":w(e,t);break;case"particle":N(e,t)}}),j(e,t,r)},v=(e,t)=>{let{x:r,y:l,scale:a,data:s}=t,i=a*s.width*.5,n=a*s.height*.5;e.fillStyle=s.color,e.beginPath(),e.moveTo(r,l),e.lineTo(r-i/2,l+n),e.lineTo(r+i/2,l+n),e.closePath(),e.fill()},p=(e,t)=>{let{x:r,y:l,scale:a,data:s}=t,i=a*s.width,n=a*s.length;e.fillStyle="#333",e.fillRect(r-i/2,l-n/2,i,n),e.fillStyle="white";for(let t=-n/2;t<n/2;t+=20)e.fillRect(r-2,l+t,4,10)},y=(e,t)=>{let{x:r,y:l,scale:a,data:s}=t,i=a*s.size*.3;e.fillStyle="rgba(255, 255, 255, ".concat(s.opacity,")"),e.beginPath(),e.arc(r,l,i,0,2*Math.PI),e.fill()},b=(e,t)=>{let{x:r,y:l,scale:a,data:s}=t,i=20*a;e.save(),e.translate(r,l),e.rotate(s.rotation),e.strokeStyle="gold",e.lineWidth=4,e.beginPath(),e.arc(0,0,i,0,2*Math.PI),e.stroke(),e.strokeStyle="orange",e.lineWidth=2,e.beginPath(),e.arc(0,0,.7*i,0,2*Math.PI),e.stroke(),e.restore()},w=(e,t)=>{let{x:r,y:l,scale:a,data:s}=t,i=15*a;e.save(),e.translate(r,l),e.rotate(s.yaw),e.fillStyle="#4169E1",e.fillRect(-i/2,-i/6,i,i/3),e.fillStyle="#1E90FF",e.fillRect(-(.8*i),-i/12,1.6*i,i/6),e.fillRect(-(.4*i),-i/3,i/6,i/2),e.restore()},N=(e,t)=>{let{x:r,y:l,scale:a,data:s}=t,i=a*s.size*(s.life/s.maxLife);e.fillStyle=s.color,e.beginPath(),e.arc(r,l,i,0,2*Math.PI),e.fill()},j=(e,t,r)=>{e.fillStyle="rgba(0, 0, 0, 0.8)",e.fillRect(10,10,250,140),e.fillStyle="white",e.font="14px monospace",e.fillText("高度: ".concat(Math.round(r.plane.y),"ft"),20,30),e.fillText("空速: ".concat(Math.round(Math.sqrt(r.plane.vx**2+r.plane.vz**2)),"kt"),20,50),e.fillText("燃料: ".concat(Math.round(n.fuel),"%"),20,70),e.fillText("油门: ".concat(Math.round(100*r.plane.throttle),"%"),20,90),e.fillText("俯仰: ".concat(Math.round(57.3*r.plane.pitch),"\xb0"),20,110),e.fillText("横滚: ".concat(Math.round(57.3*r.plane.roll),"\xb0"),20,130),e.save(),e.translate(t.width-100,100),e.rotate(r.plane.roll),e.fillStyle="#87CEEB",e.fillRect(-50,-50-100*r.plane.pitch,100,50+100*r.plane.pitch),e.fillStyle="#8B4513",e.fillRect(-50,-(100*r.plane.pitch),100,50+100*r.plane.pitch),e.strokeStyle="white",e.lineWidth=2,e.beginPath(),e.moveTo(-50,-(100*r.plane.pitch)),e.lineTo(50,-(100*r.plane.pitch)),e.stroke(),e.restore(),e.strokeStyle="yellow",e.lineWidth=3,e.beginPath(),e.moveTo(t.width-120,100),e.lineTo(t.width-80,100),e.moveTo(t.width-100,85),e.lineTo(t.width-100,115),e.stroke()},E=e=>{c(t=>({...t,altitude:Math.round(e.plane.y),speed:Math.round(Math.sqrt(e.plane.vx**2+e.plane.vz**2)),heading:Math.round((57.3*e.plane.yaw%360+360)%360),pitch:Math.round(57.3*e.plane.pitch),roll:Math.round(57.3*e.plane.roll)}))};(0,a.useEffect)(()=>{let e=e=>{o.current.keys.add(e.key),e.preventDefault()},t=e=>{o.current.keys.delete(e.key)};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[]);let M=()=>{h()};return(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold",children:["分数: ",t.score]}),(0,l.jsxs)("div",{className:"text-sm",children:["高度: ",n.altitude,"ft | 空速: ",n.speed,"kt | 燃料: ",n.fuel,"%"]})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!t.isGameStarted&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"飞行模拟器"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"使用W/S控制油门，方向键控制飞机姿态，A/D控制偏航。通过金色检查点获得分数！"}),(0,l.jsx)(s.$,{onClick:h,children:"开始飞行"})]}),t.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"飞行结束"}),(0,l.jsxs)("p",{className:"text-lg mb-4",children:["最终得分: ",t.score]}),(0,l.jsx)(s.$,{onClick:M,children:"重新飞行"})]}),(0,l.jsx)("canvas",{ref:e,className:"w-full h-full border rounded-md bg-sky-300"})]}),t.isGameStarted&&!t.isGameOver&&(0,l.jsx)("div",{className:"mt-4 flex justify-center",children:(0,l.jsxs)(s.$,{variant:"outline",onClick:M,children:[(0,l.jsx)(i.A,{className:"w-4 h-4 mr-1"})," 重新开始"]})}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"控制说明: W/S油门控制，方向键姿态控制，A/D偏航控制。通过金色检查点获得分数，注意燃料和高度！"})})]})}},6781:(e,t,r)=>{r.d(t,{PlaneShooterGame:()=>i});var l=r(8538),a=r(610),s=r(9714);function i(){let e=(0,a.useRef)(null),[t,r]=(0,a.useState)({x:0,y:0,width:40,height:40,speed:5,isActive:!0,lives:3}),[i,n]=(0,a.useState)([]),[c,o]=(0,a.useState)([]),[h,d]=(0,a.useState)({score:0,isGameOver:!1,isGameStarted:!1}),m=(0,a.useRef)(),f=(0,a.useRef)(0),u=(0,a.useRef)(new Set),x=()=>{if(!e.current)return;let t=e.current;t.width=t.offsetWidth,t.height=t.offsetHeight,r({x:t.width/2-20,y:t.height-60,width:40,height:40,speed:5,isActive:!0,lives:3}),n([]),o([]),d({score:0,isGameOver:!1,isGameStarted:!0})},g=t=>{e.current&&!h.isGameOver&&(t-f.current>1e3&&(v(),f.current=t),y(),w(),m.current=requestAnimationFrame(g))},v=()=>{if(!e.current)return;let t={x:Math.random()*(e.current.width-30),y:-30,width:30,height:30,speed:2+2*Math.random(),isActive:!0,color:"hsl(".concat(360*Math.random(),", 70%, 50%)")};n(e=>[...e,t])},p=()=>{if(!t.isActive)return;let e={x:t.x+t.width/2-2,y:t.y,width:4,height:10,speed:7,isActive:!0};o(t=>[...t,e])},y=()=>{if(!e.current)return;let l=e.current,a=t.x,s=t.y;(u.current.has("ArrowLeft")||u.current.has("a"))&&(a=Math.max(0,t.x-t.speed)),(u.current.has("ArrowRight")||u.current.has("d"))&&(a=Math.min(l.width-t.width,t.x+t.speed)),(u.current.has("ArrowUp")||u.current.has("w"))&&(s=Math.max(0,t.y-t.speed)),(u.current.has("ArrowDown")||u.current.has("s"))&&(s=Math.min(l.height-t.height,t.y+t.speed)),u.current.has(" ")&&Math.random()>.7&&p(),r(e=>({...e,x:a,y:s})),o(e=>e.map(e=>({...e,y:e.y-e.speed,isActive:e.y>-e.height})).filter(e=>e.isActive)),n(e=>e.map(e=>({...e,y:e.y+e.speed,isActive:e.y<l.height})).filter(e=>e.isActive)),b()},b=()=>{let e=[...c],l=[...i],a=0;for(let t=0;t<e.length;t++){let r=e[t];if(r.isActive)for(let e=0;e<l.length;e++){let t=l[e];if(t.isActive&&r.x<t.x+t.width&&r.x+r.width>t.x&&r.y<t.y+t.height&&r.y+r.height>t.y){r.isActive=!1,t.isActive=!1,a+=10;break}}}let s=!1;for(let e=0;e<l.length;e++){let r=l[e];r.isActive&&t.x<r.x+r.width&&t.x+t.width>r.x&&t.y<r.y+r.height&&t.y+t.height>r.y&&(r.isActive=!1,s=!0)}s&&r(e=>{let t=e.lives-1;return t<=0&&d(e=>({...e,isGameOver:!0})),{...e,lives:t}}),a>0&&d(e=>({...e,score:e.score+a})),o(e.filter(e=>e.isActive)),n(l.filter(e=>e.isActive))},w=()=>{if(!e.current)return;let r=e.current,l=r.getContext("2d");l&&(l.clearRect(0,0,r.width,r.height),t.isActive&&(l.fillStyle="#4CAF50",l.beginPath(),l.moveTo(t.x+t.width/2,t.y),l.lineTo(t.x,t.y+t.height),l.lineTo(t.x+t.width,t.y+t.height),l.closePath(),l.fill()),i.forEach(e=>{e.isActive&&(l.fillStyle=e.color,l.fillRect(e.x,e.y,e.width,e.height))}),l.fillStyle="#FFC107",c.forEach(e=>{e.isActive&&l.fillRect(e.x,e.y,e.width,e.height)}))};return(0,a.useEffect)(()=>{let e=e=>{u.current.add(e.key)," "===e.key&&h.isGameStarted&&!h.isGameOver&&e.preventDefault()},t=e=>{u.current.delete(e.key)};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[h.isGameStarted,h.isGameOver]),(0,a.useEffect)(()=>{let t=()=>{e.current&&(e.current.width=e.current.offsetWidth,e.current.height=e.current.offsetHeight,w())};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t),m.current&&cancelAnimationFrame(m.current)}},[]),(0,a.useEffect)(()=>{w()},[t,i,c,h]),(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold",children:["分数: ",h.score]}),(0,l.jsxs)("div",{className:"text-lg font-bold",children:["生命: ",t.lives]})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!h.isGameStarted&&!h.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"飞机大战"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"使用方向键移动飞机，空格键发射子弹，击落敌机获得分数！"}),(0,l.jsx)(s.$,{onClick:()=>{x(),m.current=requestAnimationFrame(g)},children:"开始游戏"})]}),h.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"游戏结束"}),(0,l.jsxs)("p",{className:"text-lg mb-4",children:["最终得分: ",h.score]}),(0,l.jsx)(s.$,{onClick:()=>{x(),m.current=requestAnimationFrame(g)},children:"再玩一次"})]}),(0,l.jsx)("canvas",{ref:e,className:"w-full h-full border rounded-md",tabIndex:0})]}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"游戏说明: 使用方向键或WASD移动飞机，空格键发射子弹。击落敌机获得分数，避免与敌机相撞。"})})]})}},6892:(e,t,r)=>{r.d(t,{WordGuessGame:()=>h});var l=r(8538),a=r(610),s=r(9714),i=r(793),n=r(7311);let c={easy:["苹果","香蕉","橙子","西瓜","草莓","猫咪","狗狗","老鼠","兔子","熊猫","书本","铅笔","桌子","椅子","电脑","学校","医院","公园","商店","家庭"],medium:["电影院","图书馆","博物馆","游乐园","动物园","篮球场","足球场","游泳池","健身房","网球场","电视机","冰箱","洗衣机","微波炉","空调器","手机","相机","耳机","键盘","鼠标"],hard:["人工智能","虚拟现实","区块链技术","量子计算","机器学习","生物工程","纳米技术","可再生能源","太空探索","基因编辑","全球变暖","生物多样性","可持续发展","环境保护","气候变化","文化遗产","历史古迹","艺术展览","音乐会","戏剧表演"]},o={easy:{苹果:"一种红色或绿色的水果，常见的水果之一",香蕉:"黄色的弯曲水果，猴子喜欢吃",橙子:"橙色的圆形水果，富含维生素C",西瓜:"夏天常吃的大型水果，里面是红色的",草莓:"红色的小型水果，表面有小籽",猫咪:"常见的宠物，会喵喵叫",狗狗:"人类的好朋友，会汪汪叫",老鼠:"小型啮齿动物，喜欢吃奶酪",兔子:"有长耳朵的动物，喜欢吃胡萝卜",熊猫:"中国特有的黑白色动物",书本:"用来阅读和学习的物品",铅笔:"用来写字和画画的工具",桌子:"放东西的家具",椅子:"用来坐的家具",电脑:"处理信息的电子设备",学校:"学生学习的地方",医院:"治疗疾病的地方",公园:"休闲娱乐的户外场所",商店:"购买物品的地方",家庭:"人们生活的基本单位"},medium:{电影院:"观看电影的场所",图书馆:"借阅和阅读书籍的地方",博物馆:"展示历史文物和艺术品的地方",游乐园:"有各种游乐设施的娱乐场所",动物园:"展示各种动物的场所",篮球场:"打篮球的场地",足球场:"踢足球的场地",游泳池:"游泳的场所",健身房:"锻炼身体的地方",网球场:"打网球的场地",电视机:"观看节目的电器",冰箱:"保存食物的电器",洗衣机:"清洗衣物的电器",微波炉:"快速加热食物的电器",空调器:"调节室内温度的电器",手机:"便携式通讯设备",相机:"拍照的设备",耳机:"听音乐的设备",键盘:"电脑输入设备",鼠标:"电脑指针控制设备"},hard:{人工智能:"模拟人类智能的计算机系统",虚拟现实:"创造一个虚拟的三维环境的技术",区块链技术:"一种分布式数据存储技术",量子计算:"利用量子力学原理进行计算的技术",机器学习:"让计算机从数据中学习的技术",生物工程:"应用工程原理于生物系统的学科",纳米技术:"在纳米尺度上操作物质的技术",可再生能源:"可以持续再生的能源",太空探索:"探索宇宙空间的活动",基因编辑:"修改生物体基因的技术",全球变暖:"地球平均温度上升的现象",生物多样性:"生物种类的丰富程度",可持续发展:"既满足当代人需求又不损害后代人发展能力的发展模式",环境保护:"保护自然环境的活动",气候变化:"气候系统的长期变化",文化遗产:"具有历史文化价值的遗产",历史古迹:"具有历史意义的建筑或遗址",艺术展览:"展示艺术作品的活动",音乐会:"现场演奏音乐的活动",戏剧表演:"在舞台上表演戏剧的活动"}};function h(){let[e,t]=(0,a.useState)(""),[r,h]=(0,a.useState)(""),[d,m]=(0,a.useState)(new Set),[f,u]=(0,a.useState)(0),[x,g]=(0,a.useState)({isGameStarted:!1,isGameOver:!1,isGameWon:!1}),[v,p]=(0,a.useState)("easy"),[y,b]=(0,a.useState)(!1),w=(0,a.useCallback)(e=>{let r=c[e],l=Math.floor(Math.random()*r.length),a=r[l],s=o[e][a];t(a),h(s),m(new Set),u(0),g({isGameStarted:!0,isGameOver:!1,isGameWon:!1}),p(e),b(!1)},[]),N=t=>{if(x.isGameOver||d.has(t))return;let r=new Set(d);if(r.add(t),m(r),e.includes(t))[...e].every(e=>r.has(e))&&g({...x,isGameOver:!0,isGameWon:!0});else{let e=f+1;u(e),e>=6&&g({...x,isGameOver:!0,isGameWon:!1})}},j=()=>{w(v)};return(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold",children:["剩余生命: ",(0,l.jsx)("span",{className:"flex inline-flex",children:Array(6-f).fill(0).map((e,t)=>(0,l.jsx)(i.A,{className:"w-5 h-5 text-red-500 fill-red-500"},t))})]}),(0,l.jsxs)("div",{className:"text-lg font-bold",children:["难度: ","easy"===v?"简单":"medium"===v?"中等":"困难"]})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!x.isGameStarted&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"单词猜谜"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"猜测隐藏的单词，每次错误猜测会失去一条生命！"}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 mb-4",children:[(0,l.jsx)("p",{className:"text-center font-medium",children:"选择难度:"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(s.$,{onClick:()=>w("easy"),children:"简单"}),(0,l.jsx)(s.$,{onClick:()=>w("medium"),children:"中等"}),(0,l.jsx)(s.$,{onClick:()=>w("hard"),children:"困难"})]})]})]}),x.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:x.isGameWon?"恭喜！":"游戏结束"}),(0,l.jsx)("p",{className:"text-lg mb-4",children:x.isGameWon?"你成功猜出了单词！":"正确的单词是: ".concat(e)}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(s.$,{onClick:j,children:"再玩一次"}),(0,l.jsx)(s.$,{variant:"outline",onClick:()=>g({isGameStarted:!1,isGameOver:!1}),children:"更换难度"})]})]}),x.isGameStarted&&!x.isGameOver&&(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center mb-8",children:[(0,l.jsxs)("div",{className:"w-32 h-32 relative border-b-2 border-gray-400",children:[(0,l.jsx)("div",{className:"absolute top-0 left-4 w-1 h-32 bg-gray-800"}),(0,l.jsx)("div",{className:"absolute top-0 left-4 w-16 h-1 bg-gray-800"}),(0,l.jsx)("div",{className:"absolute top-0 right-12 w-1 h-6 bg-gray-800"}),f>=1&&(0,l.jsx)("div",{className:"absolute top-6 right-12 w-6 h-6 rounded-full border-2 border-gray-800"}),f>=2&&(0,l.jsx)("div",{className:"absolute top-12 right-12 w-1 h-10 bg-gray-800"}),f>=3&&(0,l.jsx)("div",{className:"absolute top-14 right-12 w-6 h-1 bg-gray-800 origin-left transform -rotate-45"}),f>=4&&(0,l.jsx)("div",{className:"absolute top-14 right-12 w-6 h-1 bg-gray-800 origin-right transform rotate-45"}),f>=5&&(0,l.jsx)("div",{className:"absolute top-22 right-12 w-6 h-1 bg-gray-800 origin-left transform -rotate-45"}),f>=6&&(0,l.jsx)("div",{className:"absolute top-22 right-12 w-6 h-1 bg-gray-800 origin-right transform rotate-45"})]}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)(s.$,{variant:"outline",size:"sm",onClick:()=>{b(!y)},children:y?"隐藏提示":"显示提示"}),y&&(0,l.jsx)("div",{className:"mt-2 p-2 bg-gray-100 rounded-md max-w-xs",children:(0,l.jsx)("p",{className:"text-sm",children:r})})]})]}),(0,l.jsx)("div",{className:"flex flex-wrap justify-center mb-8",children:[...e].map((e,t)=>(0,l.jsx)("div",{className:"w-8 h-10 border-b-2 border-gray-400 flex items-center justify-center mx-1",children:(0,l.jsx)("span",{className:"text-xl font-bold",children:d.has(e)||x.isGameOver?e:""})},t))}),(0,l.jsx)("div",{className:"grid grid-cols-10 gap-2",children:(()=>{let t=[...new Set([...e])],r=["一","二","三","四","五","六","七","八","九","十","人","口","日","月","水","火","木","金","土","山","田","白","石","目","米","车","马","牛","羊","鸟","鱼","虫","龙","门","雨","云","风","花","草","虎","狗","猫","鼠","牙","齿","心","手","足","耳","目","口","鼻","头","发","衣","食","住","行","坐","立","言","语","文","字","书","画","歌","舞","思","想"].filter(e=>!t.includes(e)),a={easy:10,medium:15,hard:20}[v];return[...t,...r.sort(()=>.5-Math.random()).slice(0,a)].sort(()=>.5-Math.random()).map((e,t)=>(0,l.jsx)(s.$,{variant:d.has(e)?"secondary":"outline",className:"w-8 h-8 p-0 text-sm",disabled:d.has(e)||x.isGameOver,onClick:()=>N(e),children:e},t))})()})]})]}),x.isGameStarted&&!x.isGameOver&&(0,l.jsx)("div",{className:"mt-4 flex justify-center",children:(0,l.jsxs)(s.$,{variant:"outline",onClick:j,children:[(0,l.jsx)(n.A,{className:"w-4 h-4 mr-1"})," 重新开始"]})}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"游戏说明: 猜测隐藏的单词，每次错误猜测会失去一条生命。可以使用提示按钮获取帮助。"})})]})}},6952:(e,t,r)=>{r.d(t,{CarSimulator:()=>n});var l=r(8538),a=r(610),s=r(9714),i=r(7311);function n(){let e=(0,a.useRef)(null),[t,r]=(0,a.useState)({isGameStarted:!1,isGameOver:!1,score:0,lapTime:0,bestLap:Number.POSITIVE_INFINITY}),[n,c]=(0,a.useState)({speed:0,rpm:0,gear:1,fuel:100,temperature:90}),o=(0,a.useRef)({car:{x:0,y:0,z:0,vx:0,vy:0,vz:0,angle:0,speed:0,acceleration:0,steering:0,brake:0,gear:1,rpm:800},camera:{x:0,y:20,z:-80,targetX:0,targetY:10,targetZ:0,angle:0},keys:new Set,track:{checkpoints:[],barriers:[],startLine:{x:0,z:0,width:50}},otherCars:[],particles:[],time:0,lapStartTime:0,currentCheckpoint:0}),h=()=>{let e=o.current;e.car={x:0,y:0,z:0,vx:0,vy:0,vz:0,angle:0,speed:0,acceleration:0,steering:0,brake:0,gear:1,rpm:800},e.track.checkpoints=[];for(let t=0;t<12;t++){let r=t*Math.PI*2/12;e.track.checkpoints.push({x:800*Math.cos(r),z:600*Math.sin(r),angle:r+Math.PI/2,passed:!1})}e.track.barriers=[];for(let t=0;t<100;t++){let r=t*Math.PI*2/100;e.track.barriers.push({x:500*Math.cos(r),z:350*Math.sin(r),width:20,height:30,color:"#FF4444"}),e.track.barriers.push({x:1e3*Math.cos(r),z:700*Math.sin(r),width:20,height:30,color:"#FF4444"})}e.otherCars=[];for(let t=0;t<5;t++){let r=t*Math.PI*2/5;e.otherCars.push({x:700*Math.cos(r)+(Math.random()-.5)*100,z:500*Math.sin(r)+(Math.random()-.5)*100,angle:r+Math.PI/2,speed:80+40*Math.random(),color:"hsl(".concat(360*Math.random(),", 70%, 50%)"),aiState:{targetCheckpoint:Math.floor(12*Math.random()),steerDirection:0}})}e.particles=[],e.time=0,e.lapStartTime=0,e.currentCheckpoint=0,r({isGameStarted:!0,isGameOver:!1,score:0,lapTime:0,bestLap:Number.POSITIVE_INFINITY}),c({speed:0,rpm:800,gear:1,fuel:100,temperature:90})};(0,a.useEffect)(()=>{let r;if(!t.isGameStarted||!e.current)return;let l=e.current,a=l.getContext("2d");if(!a)return;l.width=l.offsetWidth,l.height=l.offsetHeight;let s=()=>{let e=o.current;e.time+=.016,d(e),m(e),f(e),u(e),x(e),v(a,l,e),E(e),t.isGameOver||(r=requestAnimationFrame(s))};return s(),()=>{r&&cancelAnimationFrame(r)}},[t.isGameStarted,t.isGameOver]);let d=e=>{let t=e.car,r=e.keys,l=0,a=0;(r.has("w")||r.has("W"))&&(l=1),(r.has("s")||r.has("S"))&&(a=1);let s=0;(r.has("a")||r.has("A"))&&(s=-1),(r.has("d")||r.has("D"))&&(s=1),r.has(" ")&&(a=2),(r.has("q")||r.has("Q"))&&(t.gear=Math.max(1,t.gear-1)),(r.has("e")||r.has("E"))&&(t.gear=Math.min(6,t.gear+1));let i=[0,60,100,140,180,220,260][t.gear]||260,n=l*(2e3/t.gear)-1e3*a-5*t.speed;if(t.acceleration=n,t.speed+=.016*n,t.speed=Math.max(0,Math.min(t.speed,i)),t.steering=s*Math.min(1,50/Math.max(t.speed,10)),t.angle+=t.steering*(t.speed/100)*.016,t.vx=Math.sin(t.angle)*t.speed,t.vz=Math.cos(t.angle)*t.speed,t.x+=.016*t.vx,t.z+=.016*t.vz,t.rpm=800+t.speed/i*6e3,Math.abs(t.steering)>.5&&t.speed>30&&.3>Math.random()){let r=t.x-15*Math.sin(t.angle)+(Math.random()-.5)*10,l=t.z-15*Math.cos(t.angle)+(Math.random()-.5)*10;e.particles.push({x:r,y:2,z:l,vx:(Math.random()-.5)*10,vy:5*Math.random(),vz:(Math.random()-.5)*10,life:1,maxLife:1,size:5+8*Math.random(),color:"rgba(100, 100, 100, 0.6)"})}l>.5&&.2>Math.random()&&e.particles.push({x:t.x-25*Math.sin(t.angle),y:3,z:t.z-25*Math.cos(t.angle),vx:-(5*Math.sin(t.angle))+(Math.random()-.5)*3,vy:2*Math.random(),vz:-(5*Math.cos(t.angle))+(Math.random()-.5)*3,life:1,maxLife:1,size:3+4*Math.random(),color:"rgba(50, 50, 50, 0.4)"})},m=e=>{e.otherCars.forEach(t=>{let r=e.track.checkpoints[t.aiState.targetCheckpoint],l=r.x-t.x,a=r.z-t.z,s=Math.atan2(l,a)-t.angle;for(;s>Math.PI;)s-=2*Math.PI;for(;s<-Math.PI;)s+=2*Math.PI;t.angle+=Math.sign(s)*Math.min(Math.abs(s),.02),t.x+=Math.sin(t.angle)*t.speed*.016,t.z+=Math.cos(t.angle)*t.speed*.016,100>Math.sqrt(l*l+a*a)&&(t.aiState.targetCheckpoint=(t.aiState.targetCheckpoint+1)%e.track.checkpoints.length)})},f=e=>{let t=e.camera,r=e.car;t.targetX=r.x-80*Math.sin(r.angle),t.targetY=20,t.targetZ=r.z-80*Math.cos(r.angle),t.x+=(t.targetX-t.x)*.1,t.y+=(t.targetY-t.y)*.1,t.z+=(t.targetZ-t.z)*.1,t.angle=r.angle},u=e=>{e.particles=e.particles.filter(e=>(e.x+=.016*e.vx,e.y+=.016*e.vy,e.z+=.016*e.vz,e.life-=.02,e.vy-=.1,e.life>0))},x=e=>{let t=e.car,l=e.track.checkpoints[e.currentCheckpoint];if(l&&!l.passed){let a=t.x-l.x,s=t.z-l.z;if(50>Math.sqrt(a*a+s*s)&&(l.passed=!0,e.currentCheckpoint=(e.currentCheckpoint+1)%e.track.checkpoints.length,0===e.currentCheckpoint)){let t=e.time-e.lapStartTime;r(e=>({...e,score:e.score+1e3,lapTime:t,bestLap:Math.min(e.bestLap,t)})),e.lapStartTime=e.time,e.track.checkpoints.forEach(e=>{e.passed=!1})}}e.track.barriers.forEach(r=>{let l=t.x-r.x,a=t.z-r.z;if(25>Math.sqrt(l*l+a*a)){t.speed*=.5;let r=Math.atan2(l,a);t.x+=10*Math.sin(r),t.z+=10*Math.cos(r);for(let r=0;r<8;r++)e.particles.push({x:t.x,y:5,z:t.z,vx:(Math.random()-.5)*20,vy:15*Math.random(),vz:(Math.random()-.5)*20,life:1,maxLife:1,size:4+6*Math.random(),color:"rgba(255, 150, 0, 0.8)"})}})},g=(e,t,r,l,a)=>{let s=e-l.x,i=t-l.y,n=r-l.z,c=s*Math.cos(-l.angle)-n*Math.sin(-l.angle),o=s*Math.sin(-l.angle)+n*Math.cos(-l.angle);if(o<=0)return null;let h=a.width/2+800*c/o;return{x:h,y:a.height/2-800*i/o,scale:800/o,distance:o}},v=(e,t,r)=>{let l=e.createLinearGradient(0,0,0,t.height);l.addColorStop(0,"#87CEEB"),l.addColorStop(1,"#98FB98"),e.fillStyle=l,e.fillRect(0,0,t.width,t.height),e.fillStyle="#228B22",e.fillRect(0,.6*t.height,t.width,.4*t.height),e.fillStyle="#333";let a=[];for(let e=0;e<r.track.checkpoints.length;e++){let l=r.track.checkpoints[e],s=g(l.x,0,l.z,r.camera,t);s&&a.push(s)}if(a.length>2){e.beginPath(),e.moveTo(a[0].x,a[0].y);for(let t=1;t<a.length;t++)e.lineTo(a[t].x,a[t].y);e.closePath(),e.fill()}let s=[];r.track.barriers.forEach(e=>{let l=g(e.x,e.height/2,e.z,r.camera,t);l&&s.push({...l,type:"barrier",data:e})}),r.track.checkpoints.forEach((e,l)=>{if(l===r.currentCheckpoint){let l=g(e.x,15,e.z,r.camera,t);l&&s.push({...l,type:"checkpoint",data:e})}}),r.otherCars.forEach(e=>{let l=g(e.x,5,e.z,r.camera,t);l&&s.push({...l,type:"aicar",data:e})});let i=g(r.car.x,5,r.car.z,r.camera,t);i&&s.push({...i,type:"car",data:r.car}),r.particles.forEach(e=>{let l=g(e.x,e.y,e.z,r.camera,t);l&&s.push({...l,type:"particle",data:e})}),s.sort((e,t)=>t.distance-e.distance),s.forEach(t=>{switch(t.type){case"barrier":p(e,t);break;case"checkpoint":y(e,t);break;case"aicar":b(e,t);break;case"car":w(e,t);break;case"particle":N(e,t)}}),j(e,t,r)},p=(e,t)=>{let{x:r,y:l,scale:a,data:s}=t,i=a*s.width*.5,n=a*s.height*.5;e.fillStyle=s.color,e.fillRect(r-i/2,l-n/2,i,n),e.strokeStyle="white",e.lineWidth=1,e.strokeRect(r-i/2,l-n/2,i,n)},y=(e,t)=>{let{x:r,y:l,scale:a}=t,s=30*a;e.strokeStyle="yellow",e.lineWidth=4,e.beginPath(),e.moveTo(r-s,l-s),e.lineTo(r-s,l+s),e.moveTo(r+s,l-s),e.lineTo(r+s,l+s),e.moveTo(r-s,l-s),e.lineTo(r+s,l-s),e.stroke(),e.fillStyle="yellow",e.font="".concat(Math.max(12,8*a),"px Arial"),e.textAlign="center",e.fillText((o.current.currentCheckpoint+1).toString(),r,l)},b=(e,t)=>{let{x:r,y:l,scale:a,data:s}=t,i=20*a,n=10*a;e.save(),e.translate(r,l),e.rotate(s.angle-o.current.camera.angle),e.fillStyle=s.color,e.fillRect(-i/2,-n/2,i,n),e.strokeStyle="black",e.lineWidth=1,e.strokeRect(-i/2,-n/2,i,n),e.fillStyle="rgba(100, 100, 255, 0.5)",e.fillRect(-i/3,-n/3,.66*i,.66*n),e.restore()},w=(e,t)=>{let{x:r,y:l,scale:a,data:s}=t,i=25*a,n=12*a;e.save(),e.translate(r,l),e.rotate(s.angle-o.current.camera.angle),e.fillStyle="#FF4444",e.fillRect(-i/2,-n/2,i,n),e.strokeStyle="black",e.lineWidth=2,e.strokeRect(-i/2,-n/2,i,n),e.fillStyle="rgba(100, 100, 255, 0.7)",e.fillRect(-i/3,-n/3,.66*i,.66*n),e.fillStyle="white",e.fillRect(-i/2-2,-n/4,4,n/8),e.fillRect(-i/2-2,n/8,4,n/8),e.restore()},N=(e,t)=>{let{x:r,y:l,scale:a,data:s}=t,i=a*s.size*(s.life/s.maxLife);e.fillStyle=s.color,e.beginPath(),e.arc(r,l,i,0,2*Math.PI),e.fill()},j=(e,r,l)=>{e.fillStyle="rgba(0, 0, 0, 0.8)",e.fillRect(10,10,280,160),e.fillStyle="white",e.font="16px monospace",e.fillText("速度: ".concat(Math.round(l.car.speed)," km/h"),20,35),e.fillText("档位: ".concat(l.car.gear),20,55),e.fillText("转速: ".concat(Math.round(l.car.rpm)," RPM"),20,75),e.fillText("圈数: ".concat(t.score/1e3),20,95),e.fillText("当前圈时间: ".concat((l.time-l.lapStartTime).toFixed(1),"s"),20,115),t.bestLap<Number.POSITIVE_INFINITY&&e.fillText("最佳圈速: ".concat(t.bestLap.toFixed(1),"s"),20,135),e.save(),e.translate(r.width-100,r.height-100),e.strokeStyle="white",e.lineWidth=3,e.beginPath(),e.arc(0,0,50,0,2*Math.PI),e.stroke();let a=l.car.speed/260*Math.PI*1.5-.75*Math.PI;e.strokeStyle="red",e.lineWidth=3,e.beginPath(),e.moveTo(0,0),e.lineTo(40*Math.cos(a),40*Math.sin(a)),e.stroke(),e.restore(),e.save(),e.translate(r.width-200,r.height-100),e.strokeStyle="white",e.lineWidth=3,e.beginPath(),e.arc(0,0,50,0,2*Math.PI),e.stroke();let s=(l.car.rpm-800)/6e3*Math.PI*1.5-.75*Math.PI;e.strokeStyle="orange",e.lineWidth=3,e.beginPath(),e.moveTo(0,0),e.lineTo(40*Math.cos(s),40*Math.sin(s)),e.stroke(),e.restore(),e.save(),e.translate(r.width-150,100),e.scale(.1,.1),e.strokeStyle="white",e.lineWidth=20,e.beginPath(),l.track.checkpoints.forEach((t,r)=>{0===r?e.moveTo(t.x,t.z):e.lineTo(t.x,t.z)}),e.closePath(),e.stroke(),e.fillStyle="red",e.beginPath(),e.arc(l.car.x,l.car.z,30,0,2*Math.PI),e.fill(),e.fillStyle="blue",l.otherCars.forEach(t=>{e.beginPath(),e.arc(t.x,t.z,20,0,2*Math.PI),e.fill()}),e.restore()},E=e=>{c({speed:Math.round(e.car.speed),rpm:Math.round(e.car.rpm),gear:e.car.gear,fuel:Math.max(0,100-.1*e.time),temperature:90+10*Math.random()})};(0,a.useEffect)(()=>{let e=e=>{o.current.keys.add(e.key),e.preventDefault()},t=e=>{o.current.keys.delete(e.key)};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[]);let M=()=>{h()};return(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold",children:["圈数: ",Math.floor(t.score/1e3)]}),(0,l.jsxs)("div",{className:"text-sm",children:["速度: ",n.speed,"km/h | 档位: ",n.gear," | 转速: ",n.rpm,"RPM"]})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!t.isGameStarted&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"汽车驾驶模拟器"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"使用WASD控制汽车，Q/E换挡，空格手刹。完成赛道圈数获得分数，挑战最佳圈速！"}),(0,l.jsx)(s.$,{onClick:h,children:"开始驾驶"})]}),t.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"驾驶结束"}),(0,l.jsxs)("p",{className:"text-lg mb-2",children:["完成圈数: ",Math.floor(t.score/1e3)]}),t.bestLap<Number.POSITIVE_INFINITY&&(0,l.jsxs)("p",{className:"text-lg mb-4",children:["最佳圈速: ",t.bestLap.toFixed(1),"秒"]}),(0,l.jsx)(s.$,{onClick:M,children:"重新驾驶"})]}),(0,l.jsx)("canvas",{ref:e,className:"w-full h-full border rounded-md bg-green-200"})]}),t.isGameStarted&&!t.isGameOver&&(0,l.jsx)("div",{className:"mt-4 flex justify-center",children:(0,l.jsxs)(s.$,{variant:"outline",onClick:M,children:[(0,l.jsx)(i.A,{className:"w-4 h-4 mr-1"})," 重新开始"]})}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"控制说明: W加速，S刹车，A/D转向，Q/E换挡，空格手刹。完成赛道圈数，挑战最佳圈速记录！"})})]})}},7623:(e,t,r)=>{r.d(t,{MazeGame:()=>m});var l=r(8538),a=r(610),s=r(9714),i=r(8575),n=r(4461),c=r(7311);let o={WALL:0,PATH:1,START:2,END:3,VISITED:4,COIN:5},h=[[0,-1],[1,0],[0,1],[-1,0]],d=(e,t)=>{let r=Array(t).fill().map(()=>Array(e).fill(o.WALL)),l=e%2==0?e-1:e,a=t%2==0?t-1:t,s=(e,t)=>{r[t][e]=o.PATH;let i=[...h];for(let e=i.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[i[e],i[t]]=[i[t],i[e]]}for(let[n,c]of i){let i=e+2*n,h=t+2*c;i>=0&&i<l&&h>=0&&h<a&&r[h][i]===o.WALL&&(r[t+c][e+n]=o.PATH,s(i,h))}};s(1,1),r[1][1]=o.START,r[a-2][l-2]=o.END;let i=Math.floor(l*a/20),n=0;for(;n<i;){let e=Math.floor(Math.random()*(l-2))+1,t=Math.floor(Math.random()*(a-2))+1;r[t][e]===o.PATH&&(r[t][e]=o.COIN,n++)}return r};function m(){let[e,t]=(0,a.useState)([]),[r,h]=(0,a.useState)({x:1,y:1}),[m,f]=(0,a.useState)({isGameStarted:!1,isGameOver:!1,isGameWon:!1}),[u,x]=(0,a.useState)(0),[g,v]=(0,a.useState)(null),[p,y]=(0,a.useState)(0),[b,w]=(0,a.useState)(0),[N,j]=(0,a.useState)("medium"),[E,M]=(0,a.useState)({easy:Number.POSITIVE_INFINITY,medium:Number.POSITIVE_INFINITY,hard:Number.POSITIVE_INFINITY}),k=(0,a.useRef)(null),S={easy:{width:15,height:15},medium:{width:21,height:21},hard:{width:31,height:31}},A=(0,a.useCallback)(e=>{let{width:r,height:l}=S[e],a=d(r,l);t(a),h({x:1,y:1}),f({isGameStarted:!0,isGameOver:!1,isGameWon:!1}),x(0),j(e);let s=0;for(let e=0;e<a.length;e++)for(let t=0;t<a[e].length;t++)a[e][t]===o.COIN&&s++;w(s),y(0),g&&clearInterval(g),v(setInterval(()=>{x(e=>e+1)},1e3))},[g]);(0,a.useEffect)(()=>{let l=l=>{if(!m.isGameStarted||m.isGameOver)return;let a=0,s=0;switch(l.key){case"ArrowUp":case"w":s=-1;break;case"ArrowRight":case"d":a=1;break;case"ArrowDown":case"s":s=1;break;case"ArrowLeft":case"a":a=-1;break;default:return}let i=r.x+a,n=r.y+s;if(i>=0&&i<e[0].length&&n>=0&&n<e.length){let r=e[n][i];if(r!==o.WALL){h({x:i,y:n});let l=[...e];r===o.COIN&&(l[n][i]=o.PATH,y(e=>e+1)),r===o.PATH&&(l[n][i]=o.VISITED),r===o.END&&R(),t(l)}}};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[m,e,r]);let R=()=>{clearInterval(g),f({...m,isGameOver:!0,isGameWon:!0}),M(e=>{let t={...e};return u<e[N]&&(t[N]=u),t})},G=()=>{A(N)};(0,a.useEffect)(()=>{if(!m.isGameStarted||!k.current)return;let t=k.current,l=t.getContext("2d"),a=Math.min((t.width-2)/e[0].length,(t.height-2)/e.length);l.clearRect(0,0,t.width,t.height);for(let t=0;t<e.length;t++)for(let r=0;r<e[t].length;r++){let s=r*a,i=t*a;switch(e[t][r]){case o.WALL:l.fillStyle="#1e293b",l.fillRect(s,i,a,a);break;case o.PATH:l.fillStyle="#f8fafc",l.fillRect(s,i,a,a);break;case o.START:l.fillStyle="#4ade80",l.fillRect(s,i,a,a);break;case o.END:l.fillStyle="#f43f5e",l.fillRect(s,i,a,a);break;case o.VISITED:l.fillStyle="#e2e8f0",l.fillRect(s,i,a,a);break;case o.COIN:l.fillStyle="#f8fafc",l.fillRect(s,i,a,a),l.fillStyle="#eab308",l.beginPath(),l.arc(s+a/2,i+a/2,a/3,0,2*Math.PI),l.fill()}}l.fillStyle="#3b82f6",l.beginPath(),l.arc(r.x*a+a/2,r.y*a+a/2,a/2.5,0,2*Math.PI),l.fill()},[e,r,m.isGameStarted]);let C=e=>{let t=Math.floor(e/60);return"".concat(t.toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))};(0,a.useEffect)(()=>()=>{g&&clearInterval(g)},[g]),(0,a.useEffect)(()=>{if(!k.current)return;let e=()=>{let e=k.current,t=e.parentElement,r=Math.min(t.clientWidth,t.clientHeight)-20;e.width=r,e.height=r};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let I=(l,a)=>{if(!m.isGameStarted||m.isGameOver)return;let s=r.x+l,i=r.y+a;if(s>=0&&s<e[0].length&&i>=0&&i<e.length){let r=e[i][s];if(r!==o.WALL){h({x:s,y:i});let l=[...e];r===o.COIN&&(l[i][s]=o.PATH,y(e=>e+1)),r===o.PATH&&(l[i][s]=o.VISITED),r===o.END&&R(),t(l)}}};return(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold flex items-center",children:[(0,l.jsx)(i.A,{className:"w-5 h-5 mr-1"})," ",C(u)]}),(0,l.jsxs)("div",{className:"text-lg font-bold",children:["金币: ",p,"/",b]})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!m.isGameStarted&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"迷宫探险"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"在迷宫中找到出路，收集金币获得更高分数！"}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 mb-4",children:[(0,l.jsx)("p",{className:"text-center font-medium",children:"选择难度:"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(s.$,{onClick:()=>A("easy"),children:"简单"}),(0,l.jsx)(s.$,{onClick:()=>A("medium"),children:"中等"}),(0,l.jsx)(s.$,{onClick:()=>A("hard"),children:"困难"})]})]})]}),m.isGameOver&&m.isGameWon&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"恭喜！"}),(0,l.jsx)("p",{className:"text-lg mb-1",children:"你成功走出了迷宫！"}),(0,l.jsxs)("p",{className:"mb-1",children:["用时: ",C(u)]}),(0,l.jsxs)("p",{className:"mb-4",children:["收集金币: ",p,"/",b]}),u===E[N]&&(0,l.jsxs)("div",{className:"flex items-center text-yellow-500 mb-4",children:[(0,l.jsx)(n.A,{className:"w-5 h-5 mr-1"})," 新纪录！"]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(s.$,{onClick:G,children:"再玩一次"}),(0,l.jsx)(s.$,{variant:"outline",onClick:()=>f({isGameStarted:!1,isGameOver:!1}),children:"更换难度"})]})]}),(0,l.jsx)("div",{className:"flex justify-center items-center h-full",children:m.isGameStarted&&(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("canvas",{ref:k,className:"border border-gray-300 rounded-md"}),(0,l.jsxs)("div",{className:"md:hidden mt-4 grid grid-cols-3 gap-2 w-full max-w-xs",children:[(0,l.jsx)("div",{}),(0,l.jsx)(s.$,{variant:"outline",onClick:()=>I(0,-1),children:"上"}),(0,l.jsx)("div",{}),(0,l.jsx)(s.$,{variant:"outline",onClick:()=>I(-1,0),children:"左"}),(0,l.jsx)(s.$,{variant:"outline",onClick:()=>I(0,1),children:"下"}),(0,l.jsx)(s.$,{variant:"outline",onClick:()=>I(1,0),children:"右"})]})]})})]}),m.isGameStarted&&!m.isGameOver&&(0,l.jsx)("div",{className:"mt-4 flex justify-center",children:(0,l.jsxs)(s.$,{variant:"outline",onClick:G,children:[(0,l.jsx)(c.A,{className:"w-4 h-4 mr-1"})," 重新开始"]})}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"游戏说明: 使用方向键或WASD移动角色，找到迷宫出口。收集金币可以获得更高分数！"})})]})}},7646:(e,t,r)=>{r.d(t,{GomokuGame:()=>h});var l=r(8538),a=r(610),s=r(9714),i=r(4852),n=r(4888),c=r(7311);let o=[[0,1],[1,0],[1,1],[1,-1]];function h(){let[e,t]=(0,a.useState)(()=>Array(15).fill(null).map(()=>Array(15).fill(0))),[r,h]=(0,a.useState)(1),[d,m]=(0,a.useState)({isGameStarted:!1,isGameOver:!1,winner:null,isPlayerTurn:!0}),[f,u]=(0,a.useState)("ai"),[x,g]=(0,a.useState)(null),v=(0,a.useCallback)((e,t,r,l)=>{for(let[a,s]of o){let i=1;for(let n=1;n<5;n++){let c=t+a*n,o=r+s*n;if(c>=0&&c<15&&o>=0&&o<15&&e[c][o]===l)i++;else break}for(let n=1;n<5;n++){let c=t-a*n,o=r-s*n;if(c>=0&&c<15&&o>=0&&o<15&&e[c][o]===l)i++;else break}if(i>=5)return!0}return!1},[]),p=(0,a.useCallback)((e,t,r,l)=>{let a=0,s=1===l?2:1;for(let[i,n]of o)for(let c=-4;c<=0;c++){let o=0,h=0;for(let a=0;a<5;a++){let d=t+i*(c+a),m=r+n*(c+a);if(d>=0&&d<15&&m>=0&&m<15){let t=e[d][m];t===l?o++:t===s&&h++}}0===h&&(4===o?a+=1e3:3===o?a+=100:2===o?a+=10:1===o&&(a+=1)),0===o&&(4===h?a-=1e3:3===h?a-=100:2===h&&(a-=10))}return a},[]),y=(0,a.useCallback)(()=>{let r=Number.NEGATIVE_INFINITY,l=null;for(let t=0;t<15;t++)for(let a=0;a<15;a++)if(0===e[t][a]){let s=p(e,t,a,2);s>r&&(r=s,l={row:t,col:a})}if(l){let r=e.map(e=>[...e]);r[l.row][l.col]=2,t(r),g(l),v(r,l.row,l.col,2)?m(e=>({...e,isGameOver:!0,winner:2})):(h(1),m(e=>({...e,isPlayerTurn:!0})))}},[e,p,v]),b=(l,a)=>{if(d.isGameOver||0!==e[l][a]||"ai"===f&&!d.isPlayerTurn)return;let s=e.map(e=>[...e]);if(s[l][a]=r,t(s),g({row:l,col:a}),v(s,l,a,r))m(e=>({...e,isGameOver:!0,winner:r}));else{let e=1===r?2:1;h(e),"ai"===f&&2===e&&m(e=>({...e,isPlayerTurn:!1}))}};(0,a.useEffect)(()=>{if("ai"===f&&2===r&&!d.isGameOver&&d.isGameStarted){let e=setTimeout(()=>{y()},1e3);return()=>clearTimeout(e)}},[r,f,d.isGameOver,d.isGameStarted,y]);let w=e=>{t(Array(15).fill(null).map(()=>Array(15).fill(0))),h(1),m({isGameStarted:!0,isGameOver:!1,winner:null,isPlayerTurn:!0}),u(e),g(null)},N=()=>{w(f)},j=(e,t,r)=>{if(0===e)return null;let a=x&&x.row===t&&x.col===r;return(0,l.jsx)("div",{className:"w-6 h-6 rounded-full border-2 ".concat(1===e?"bg-gray-800 border-gray-900":"bg-white border-gray-300 shadow-md"," ").concat(a?"ring-2 ring-red-500":"")})};return(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold flex items-center",children:["当前玩家:"," ",1===r?(0,l.jsxs)("span",{className:"flex items-center ml-2",children:[(0,l.jsx)("div",{className:"w-4 h-4 bg-gray-800 rounded-full mr-1"}),"黑棋"]}):(0,l.jsxs)("span",{className:"flex items-center ml-2",children:[(0,l.jsx)("div",{className:"w-4 h-4 bg-white border border-gray-300 rounded-full mr-1"}),"白棋"]})]}),(0,l.jsx)("div",{className:"text-lg font-bold",children:"ai"===f?(0,l.jsxs)("span",{className:"flex items-center",children:[(0,l.jsx)(i.A,{className:"w-5 h-5 mr-1"}),"vs",(0,l.jsx)(n.A,{className:"w-5 h-5 ml-1"})]}):"双人对战"})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!d.isGameStarted&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"五子棋"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"先连成五子者获胜！"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(s.$,{onClick:()=>w("ai"),children:[(0,l.jsx)(n.A,{className:"w-4 h-4 mr-1"}),"人机对战"]}),(0,l.jsxs)(s.$,{onClick:()=>w("human"),children:[(0,l.jsx)(i.A,{className:"w-4 h-4 mr-1"}),"双人对战"]})]})]}),d.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"游戏结束"}),(0,l.jsxs)("p",{className:"text-lg mb-4",children:[1===d.winner?"黑棋":"白棋","获胜！"]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(s.$,{onClick:N,children:"再玩一次"}),(0,l.jsx)(s.$,{variant:"outline",onClick:()=>m({...d,isGameStarted:!1}),children:"返回菜单"})]})]}),(0,l.jsx)("div",{className:"flex justify-center items-center h-full overflow-auto",children:d.isGameStarted&&(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)("div",{className:"bg-yellow-100 p-4 rounded-lg shadow-lg",children:(0,l.jsxs)("div",{className:"grid gap-0 relative",style:{gridTemplateColumns:"repeat(".concat(15,", 1fr)"),width:"".concat(360,"px"),height:"".concat(360,"px")},children:[(0,l.jsxs)("svg",{className:"absolute inset-0 pointer-events-none",width:360,height:360,children:[Array(15).fill(0).map((e,t)=>(0,l.jsx)("line",{x1:24*t+12,y1:12,x2:24*t+12,y2:348,stroke:"#8B4513",strokeWidth:"1"},"v-".concat(t))),Array(15).fill(0).map((e,t)=>(0,l.jsx)("line",{x1:12,y1:24*t+12,x2:348,y2:24*t+12,stroke:"#8B4513",strokeWidth:"1"},"h-".concat(t))),[[7,7],[3,3],[3,11],[11,3],[11,11]].map((e,t)=>{let[r,a]=e;return(0,l.jsx)("circle",{cx:24*a+12,cy:24*r+12,r:"2",fill:"#8B4513"},t)})]}),e.map((e,t)=>e.map((e,r)=>(0,l.jsx)("div",{className:"w-6 h-6 flex items-center justify-center cursor-pointer hover:bg-yellow-200 hover:bg-opacity-50",onClick:()=>b(t,r),children:j(e,t,r)},"".concat(t,"-").concat(r))))]})})})})]}),d.isGameStarted&&!d.isGameOver&&(0,l.jsx)("div",{className:"mt-4 flex justify-center",children:(0,l.jsxs)(s.$,{variant:"outline",onClick:N,children:[(0,l.jsx)(c.A,{className:"w-4 h-4 mr-1"})," 重新开始"]})}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"游戏说明: 轮流下棋，先连成五子者获胜。支持人机对战和双人对战模式。"})})]})}},8266:(e,t,r)=>{r.d(t,{FlappyBirdGame:()=>s});var l=r(8538),a=r(610);function s(){let e=(0,a.useRef)(null),[t,r]=(0,a.useState)({y:200,velocity:0,frame:0}),[s,i]=(0,a.useState)([]),[n,c]=(0,a.useState)(0),[o,h]=(0,a.useState)(!1),[d,m]=(0,a.useState)(!1),f=(0,a.useRef)([]),u=(0,a.useRef)(null),x=(0,a.useRef)([]),g=(0,a.useRef)(null),v=(0,a.useRef)(null),p=(0,a.useRef)(null),[y,b]=(0,a.useState)(!1),w=(0,a.useRef)(null),N=(0,a.useRef)(null),j=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=e=>new Promise((t,r)=>{let l=new Image;l.onload=()=>t(l),l.onerror=r,l.src=e}),t=e=>new Promise((t,r)=>{let l=new Audio(e);l.oncanplaythrough=()=>t(l),l.onerror=r,l.src=e});Promise.all([...["https://hebbkx1anhila5yf.public.blob.vercel-storage.com/yellowbird-downflap-ZExrg9YxRxwFfLXDu6JijpJUQgByX6.png","https://hebbkx1anhila5yf.public.blob.vercel-storage.com/yellowbird-midflap-8mBrx070GYsw2As4Ue9BfQJ5XNMUg3.png","https://hebbkx1anhila5yf.public.blob.vercel-storage.com/yellowbird-upflap-hMo7jE66Ar0TzdbAMTzTMWaEGpTNx2.png"].map(e),...["https://hebbkx1anhila5yf.public.blob.vercel-storage.com/0-n6uJmiEzXXFf0NDHejRxdna8JdqZ9P.png","https://hebbkx1anhila5yf.public.blob.vercel-storage.com/1-2s71zdNWUSfnqIUbOABB2QJzzbG7fR.png","https://hebbkx1anhila5yf.public.blob.vercel-storage.com/2-QNpaMYRZvP9MgObyqVbxo7wu0MyjYE.png","https://hebbkx1anhila5yf.public.blob.vercel-storage.com/3-6yXb5a7IxZyl8kdXXBatpxq48enb2d.png","https://hebbkx1anhila5yf.public.blob.vercel-storage.com/4-9beOrHBy4QSBLifUwqaLXqbNWfK4Hr.png","https://hebbkx1anhila5yf.public.blob.vercel-storage.com/5-pgAY4wiTYa2Ppho9w3YXtLx3UHryJI.png","https://hebbkx1anhila5yf.public.blob.vercel-storage.com/6-5v6snji9HWY7UpBuqDkKDtck2zED4B.png","https://hebbkx1anhila5yf.public.blob.vercel-storage.com/7-zTxqP8uIOG4OYFtl8x6Dby0mqKfNYo.png","https://hebbkx1anhila5yf.public.blob.vercel-storage.com/8-gkhiN6iBVr2DY7SqrTZIEP7Q3doyo9.png","https://hebbkx1anhila5yf.public.blob.vercel-storage.com/9-PxwOSLzHQAiMeneqctp2q5mzWAv0Kv.png"].map(e),e("https://hebbkx1anhila5yf.public.blob.vercel-storage.com/background-day-rvpnF7CJRMdBNqqBc8Zfzz3QpIfkBG.png"),e("https://hebbkx1anhila5yf.public.blob.vercel-storage.com/gameover-NwA13AFRtIFat9QoA12T3lpjK76Qza.png"),e("https://hebbkx1anhila5yf.public.blob.vercel-storage.com/message-g1ru4NKF3KrKoFmiVpzR8fwdeLhwNa.png"),e("https://hebbkx1anhila5yf.public.blob.vercel-storage.com/pipe-green-zrz2zTtoVXaLn6xDqgrNVF9luzjW1B.png"),t("https://hebbkx1anhila5yf.public.blob.vercel-storage.com/point-SdTORahWMlxujnLCoDbujDLHI6KFeC.wav"),t("https://hebbkx1anhila5yf.public.blob.vercel-storage.com/hit-YVMFYQJEgZASG6O3xPWiyiqPtOLygb.wav"),t("https://hebbkx1anhila5yf.public.blob.vercel-storage.com/wing-oOSsspXpVMDc0enrWj4WWLaHVqs6Hk.wav")]).then(e=>{f.current=e.slice(0,3),x.current=e.slice(3,13),u.current=e[13],g.current=e[14],v.current=e[15],p.current=e[16],w.current=e[17],N.current=e[18],j.current=e[19],b(!0)})},[]);let E=(0,a.useCallback)(e=>{e&&!o&&(e.currentTime=0,e.play().catch(e=>console.error("Error playing sound:",e)))},[o]),M=(0,a.useCallback)(()=>{!o&&d?(r(e=>({...e,velocity:-10})),E(j.current)):d||m(!0)},[o,d,E]),k=(0,a.useCallback)(()=>{r({y:200,velocity:0,frame:0}),i([]),c(0),h(!1),m(!0)},[]);(0,a.useEffect)(()=>{let e=e=>{"Space"!==e.code||(d?o||M():m(!0))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[M,d,o]),(0,a.useEffect)(()=>{if(!y)return;let l=e.current,a=null==l?void 0:l.getContext("2d");if(!l||!a)return;let m=setInterval(()=>{if(a.clearRect(0,0,l.width,l.height),u.current&&a.drawImage(u.current,0,0,l.width,l.height),!d){if(v.current){let e=(l.width-184)/2,t=(l.height-267)/2;a.drawImage(v.current,e,t,184,267)}return}if(r(e=>({y:e.y+e.velocity,velocity:e.velocity+.5,frame:(e.frame+1)%3})),i(e=>e.map(e=>({...e,x:e.x-2}))),0===s.length||s[s.length-1].x<l.width-200){let e=Math.random()*(l.height-150-100)+50;i(t=>[...t,{x:l.width,topHeight:e}])}i(e=>e.filter(e=>e.x+52>0));let e={x:50,y:t.y,width:34,height:24};for(let t of s){let r={x:t.x,y:0,width:52,height:t.topHeight},a={x:t.x,y:t.topHeight+150,width:52,height:l.height-t.topHeight-150};e.x<r.x+r.width&&e.x+e.width>r.x&&e.y<r.y+r.height&&e.y+e.height>r.y&&(h(!0),E(N.current)),e.x<a.x+a.width&&e.x+e.width>a.x&&e.y<a.y+a.height&&e.y+e.height>a.y&&(h(!0),E(N.current))}!o&&s.some(e=>e.x+52<50&&e.x+52>=48)&&(c(e=>e+1),E(w.current)),s.forEach(e=>{p.current&&(a.save(),a.scale(1,-1),a.drawImage(p.current,e.x,-e.topHeight,52,320),a.restore(),a.drawImage(p.current,e.x,e.topHeight+150,52,320))}),a.save(),a.translate(67,t.y+12),a.rotate(Math.min(Math.PI/4,Math.max(-Math.PI/4,.1*t.velocity))),a.drawImage(f.current[t.frame],-17,-12,34,24),a.restore();let y=n.toString(),b=24*y.length,j=(l.width-b)/2;if(y.split("").forEach((e,t)=>{let r=x.current[parseInt(e)];r&&a.drawImage(r,j+24*t,20,24,36)}),(t.y>l.height||t.y<0)&&(h(!0),E(N.current)),o&&(clearInterval(m),g.current)){let e=(l.width-192)/2,t=(l.height-42)/2;a.drawImage(g.current,e,t,192,42),a.fillStyle="rgba(0, 0, 0, 0.5)",a.fillRect(l.width/2-50,l.height/2+50,100,40),a.fillStyle="white",a.font="20px Arial",a.fillText("Restart",l.width/2-30,l.height/2+75)}},1e3/60);return()=>clearInterval(m)},[t,s,o,n,M,d,y,k,E]);let S=(0,a.useCallback)(t=>{let r=e.current;if(!r)return;let l=r.getBoundingClientRect(),a=t.clientX-l.left,s=t.clientY-l.top;o?a>=r.width/2-50&&a<=r.width/2+50&&s>=r.height/2+50&&s<=r.height/2+90&&k():M()},[o,M,k]);return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:[(0,l.jsx)("canvas",{ref:e,width:288,height:512,className:"border border-gray-300",onClick:S}),(0,l.jsx)("p",{className:"mt-4 text-lg",children:"Press Space to start/jump or click/tap the game area"})]})}},8480:(e,t,r)=>{r.d(t,{DoudizhuGame:()=>i});var l=r(8538),a=r(610);let s="https://rococo-cobbler-a5244d.netlify.app/";function i(){let e=(0,a.useRef)(null);return(0,a.useEffect)(()=>(e.current=setTimeout(()=>{window.open(s,"_blank","noopener,noreferrer")},1200),()=>{e.current&&clearTimeout(e.current)}),[]),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:"正在跳转到 斗地主 游戏..."}),(0,l.jsx)("button",{onClick:()=>{window.open(s,"_blank","noopener,noreferrer")},style:{marginTop:12,backgroundColor:"#1677ff",color:"#fff"},children:"如果没有自动跳转，请点击这里"})]})}},9144:(e,t,r)=>{r.d(t,{DroneSimulator:()=>n});var l=r(8538),a=r(610),s=r(9714),i=r(7311);function n(){let e=(0,a.useRef)(null),[t,r]=(0,a.useState)({isGameStarted:!1,isGameOver:!1,score:0}),[n,c]=(0,a.useState)({altitude:0,speed:0,battery:100,pitch:0,roll:0,yaw:0}),o=(0,a.useRef)({drone:{x:0,y:50,z:0,vx:0,vy:0,vz:0,pitch:0,roll:0,yaw:0,thrust:0},camera:{x:0,y:60,z:-100,targetX:0,targetY:50,targetZ:0},keys:new Set,obstacles:[],targets:[],particles:[],time:0}),h=()=>{let e=o.current;e.drone={x:0,y:50,z:0,vx:0,vy:0,vz:0,pitch:0,roll:0,yaw:0,thrust:0},e.obstacles=[];for(let t=0;t<20;t++)e.obstacles.push({x:(Math.random()-.5)*1e3,y:100*Math.random()+20,z:(Math.random()-.5)*1e3,width:20+30*Math.random(),height:30+50*Math.random(),depth:20+30*Math.random(),color:"hsl(".concat(60*Math.random()+200,", 50%, 40%)")});e.targets=[];for(let t=0;t<10;t++)e.targets.push({x:(Math.random()-.5)*800,y:30+80*Math.random(),z:(Math.random()-.5)*800,collected:!1,rotation:0});e.particles=[],e.time=0,r({isGameStarted:!0,isGameOver:!1,score:0}),c({altitude:50,speed:0,battery:100,pitch:0,roll:0,yaw:0})};(0,a.useEffect)(()=>{let r;if(!t.isGameStarted||!e.current)return;let l=e.current,a=l.getContext("2d");if(!a)return;l.width=l.offsetWidth,l.height=l.offsetHeight;let s=()=>{let e=o.current;e.time+=.016,d(e),m(e),f(e),u(e),g(a,l,e),N(e),t.isGameOver||(r=requestAnimationFrame(s))};return s(),()=>{r&&cancelAnimationFrame(r)}},[t.isGameStarted,t.isGameOver]);let d=e=>{let t=e.drone,r=e.keys;if(r.has("w")||r.has("W")?t.thrust=Math.min(t.thrust+.5,10):r.has("s")||r.has("S")?t.thrust=Math.max(t.thrust-.5,-5):t.thrust*=.95,r.has("ArrowUp")?t.pitch=Math.max(t.pitch-.02,-.3):r.has("ArrowDown")?t.pitch=Math.min(t.pitch+.02,.3):t.pitch*=.9,r.has("ArrowLeft")?t.roll=Math.max(t.roll-.02,-.3):r.has("ArrowRight")?t.roll=Math.min(t.roll+.02,.3):t.roll*=.9,(r.has("a")||r.has("A"))&&(t.yaw-=.03),(r.has("d")||r.has("D"))&&(t.yaw+=.03),t.vy+=-.3+.8*t.thrust,t.vy*=.98,t.vx+=Math.sin(t.yaw)*t.pitch*2,t.vz+=Math.cos(t.yaw)*t.pitch*2,t.vx+=Math.sin(t.yaw+Math.PI/2)*t.roll*1.5,t.vz+=Math.cos(t.yaw+Math.PI/2)*t.roll*1.5,t.vx*=.98,t.vz*=.98,t.x+=t.vx,t.y+=t.vy,t.z+=t.vz,t.y<5&&(t.y=5,t.vy=Math.max(t.vy,0)),.3>Math.random())for(let r=0;r<4;r++){let l=r*Math.PI/2+t.yaw,a=t.x+8*Math.cos(l),s=t.z+8*Math.sin(l);e.particles.push({x:a,y:t.y-2,z:s,vx:(Math.random()-.5)*2,vy:-(2*Math.random()),vz:(Math.random()-.5)*2,life:1,maxLife:1,size:2+3*Math.random(),color:"rgba(200, 200, 255, 0.6)"})}},m=e=>{let t=e.camera,r=e.drone;t.targetX=r.x-80*Math.sin(r.yaw),t.targetY=r.y+20,t.targetZ=r.z-80*Math.cos(r.yaw),t.x+=(t.targetX-t.x)*.1,t.y+=(t.targetY-t.y)*.1,t.z+=(t.targetZ-t.z)*.1},f=e=>{e.particles=e.particles.filter(e=>(e.x+=e.vx,e.y+=e.vy,e.z+=e.vz,e.life-=.02,e.vy-=.1,e.life>0))},u=e=>{let t=e.drone;e.targets.forEach(l=>{if(!l.collected){let a=t.x-l.x,s=t.y-l.y,i=t.z-l.z;if(15>Math.sqrt(a*a+s*s+i*i)){l.collected=!0,r(e=>({...e,score:e.score+10}));for(let t=0;t<10;t++)e.particles.push({x:l.x,y:l.y,z:l.z,vx:(Math.random()-.5)*10,vy:10*Math.random(),vz:(Math.random()-.5)*10,life:1,maxLife:1,size:3+5*Math.random(),color:"rgba(255, 215, 0, 0.8)"})}}}),e.obstacles.forEach(r=>{let l=Math.abs(t.x-r.x),a=Math.abs(t.y-r.y),s=Math.abs(t.z-r.z);if(l<r.width/2+5&&a<r.height/2+5&&s<r.depth/2+5){t.vx*=-.5,t.vy*=-.5,t.vz*=-.5;for(let r=0;r<5;r++)e.particles.push({x:t.x,y:t.y,z:t.z,vx:(Math.random()-.5)*15,vy:10*Math.random(),vz:(Math.random()-.5)*15,life:1,maxLife:1,size:4+6*Math.random(),color:"rgba(255, 100, 100, 0.8)"})}})},x=(e,t,r,l,a)=>{let s=e-l.x,i=t-l.y,n=r-l.z;if(n<=0)return null;let c=a.width/2+800*s/n;return{x:c,y:a.height/2-800*i/n,scale:800/n,distance:n}},g=(e,t,r)=>{e.fillStyle="linear-gradient(to bottom, #87CEEB, #98FB98)",e.fillRect(0,0,t.width,t.height);let l=e.createLinearGradient(0,0,0,t.height);l.addColorStop(0,"#87CEEB"),l.addColorStop(.7,"#98FB98"),l.addColorStop(1,"#228B22"),e.fillStyle=l,e.fillRect(0,0,t.width,t.height),e.strokeStyle="rgba(0, 100, 0, 0.3)",e.lineWidth=1;for(let l=-500;l<=500;l+=50){let a=x(l,0,-500,r.camera,t),s=x(l,0,500,r.camera,t),i=x(-500,0,l,r.camera,t),n=x(500,0,l,r.camera,t);a&&s&&(e.beginPath(),e.moveTo(a.x,a.y),e.lineTo(s.x,s.y),e.stroke()),i&&n&&(e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(n.x,n.y),e.stroke())}let a=[];r.obstacles.forEach(e=>{let l=x(e.x,e.y,e.z,r.camera,t);l&&a.push({...l,type:"obstacle",data:e})}),r.targets.forEach(e=>{if(!e.collected){e.rotation+=.05;let l=x(e.x,e.y,e.z,r.camera,t);l&&a.push({...l,type:"target",data:e})}});let s=x(r.drone.x,r.drone.y,r.drone.z,r.camera,t);s&&a.push({...s,type:"drone",data:r.drone}),r.particles.forEach(e=>{let l=x(e.x,e.y,e.z,r.camera,t);l&&a.push({...l,type:"particle",data:e})}),a.sort((e,t)=>t.distance-e.distance),a.forEach(t=>{switch(t.type){case"obstacle":v(e,t);break;case"target":p(e,t);break;case"drone":y(e,t);break;case"particle":b(e,t)}}),w(e,t,r)},v=(e,t)=>{let{x:r,y:l,scale:a,data:s}=t,i=20*a;e.fillStyle=s.color,e.fillRect(r-i/2,l-i/2,i,i),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.lineWidth=1,e.strokeRect(r-i/2,l-i/2,i,i)},p=(e,t)=>{let{x:r,y:l,scale:a,data:s}=t,i=8*a;e.save(),e.translate(r,l),e.rotate(s.rotation),e.fillStyle="gold",e.beginPath();for(let t=0;t<5;t++){let r=t*Math.PI*2/5,l=.5*i,a=Math.cos(r)*i,s=Math.sin(r)*i,n=r+Math.PI/5,c=Math.cos(n)*l,o=Math.sin(n)*l;0===t?e.moveTo(a,s):e.lineTo(a,s),e.lineTo(c,o)}e.closePath(),e.fill(),e.strokeStyle="orange",e.lineWidth=2,e.stroke(),e.restore()},y=(e,t)=>{let{x:r,y:l,scale:a,data:s}=t,i=12*a;e.save(),e.translate(r,l),e.rotate(s.yaw),e.fillStyle="#333",e.fillRect(-i/2,-i/4,i,i/2),e.strokeStyle="#666",e.lineWidth=3,e.beginPath(),e.moveTo(-i,-i),e.lineTo(i,i),e.moveTo(i,-i),e.lineTo(-i,i),e.stroke(),e.fillStyle="rgba(100, 100, 100, 0.5)",[[-(.8*i),-(.8*i)],[.8*i,-(.8*i)],[.8*i,.8*i],[-(.8*i),.8*i]].forEach(t=>{let[r,l]=t;e.beginPath(),e.arc(r,l,.3*i,0,2*Math.PI),e.fill()}),e.restore()},b=(e,t)=>{let{x:r,y:l,scale:a,data:s}=t,i=a*s.size*(s.life/s.maxLife);e.fillStyle=s.color,e.beginPath(),e.arc(r,l,i,0,2*Math.PI),e.fill()},w=(e,t,r)=>{e.fillStyle="rgba(0, 0, 0, 0.7)",e.fillRect(10,10,200,120),e.fillStyle="white",e.font="14px monospace",e.fillText("高度: ".concat(Math.round(r.drone.y),"m"),20,30),e.fillText("速度: ".concat(Math.round(10*Math.sqrt(r.drone.vx**2+r.drone.vz**2)),"km/h"),20,50),e.fillText("电池: ".concat(Math.round(n.battery),"%"),20,70),e.fillText("俯仰: ".concat(Math.round(57.3*r.drone.pitch),"\xb0"),20,90),e.fillText("横滚: ".concat(Math.round(57.3*r.drone.roll),"\xb0"),20,110),e.strokeStyle="rgba(255, 255, 255, 0.8)",e.lineWidth=2;let l=t.width/2,a=t.height/2;e.beginPath(),e.moveTo(l-20,a),e.lineTo(l+20,a),e.moveTo(l,a-20),e.lineTo(l,a+20),e.stroke(),e.save(),e.translate(t.width-80,80),e.rotate(r.drone.roll),e.strokeStyle="white",e.lineWidth=3,e.beginPath(),e.arc(0,0,30,0,2*Math.PI),e.stroke(),e.beginPath(),e.moveTo(-30,0),e.lineTo(30,0),e.stroke(),e.restore()},N=e=>{c({altitude:Math.round(e.drone.y),speed:Math.round(10*Math.sqrt(e.drone.vx**2+e.drone.vz**2)),battery:Math.max(0,100-.5*e.time),pitch:Math.round(57.3*e.drone.pitch),roll:Math.round(57.3*e.drone.roll),yaw:Math.round(57.3*e.drone.yaw)})};(0,a.useEffect)(()=>{let e=e=>{o.current.keys.add(e.key),e.preventDefault()},t=e=>{o.current.keys.delete(e.key)};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[]);let j=()=>{h()};return(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full mb-4",children:[(0,l.jsxs)("div",{className:"text-lg font-bold",children:["分数: ",t.score]}),(0,l.jsxs)("div",{className:"text-sm",children:["高度: ",n.altitude,"m | 速度: ",n.speed,"km/h | 电池: ",n.battery,"%"]})]}),(0,l.jsxs)("div",{className:"relative w-full",style:{height:"400px"},children:[!t.isGameStarted&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"无人机模拟器"}),(0,l.jsx)("p",{className:"text-center mb-4",children:"使用WASD控制推力和偏航，方向键控制俯仰和横滚。收集金色目标，避开障碍物！"}),(0,l.jsx)(s.$,{onClick:h,children:"开始飞行"})]}),t.isGameOver&&(0,l.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-background/80 z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"飞行结束"}),(0,l.jsxs)("p",{className:"text-lg mb-4",children:["最终得分: ",t.score]}),(0,l.jsx)(s.$,{onClick:j,children:"重新飞行"})]}),(0,l.jsx)("canvas",{ref:e,className:"w-full h-full border rounded-md bg-sky-200"})]}),t.isGameStarted&&!t.isGameOver&&(0,l.jsx)("div",{className:"mt-4 flex justify-center",children:(0,l.jsxs)(s.$,{variant:"outline",onClick:j,children:[(0,l.jsx)(i.A,{className:"w-4 h-4 mr-1"})," 重新开始"]})}),(0,l.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"控制说明: W/S推力控制，A/D偏航控制，方向键俯仰横滚控制。收集金色目标获得分数，小心避开障碍物！"})})]})}},9714:(e,t,r)=>{r.d(t,{$:()=>o});var l=r(8538),a=r(610),s=r(8671),i=r(8866),n=r(3729);let c=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:o=!1,...h}=e,d=o?s.DX:"button";return(0,l.jsx)(d,{className:(0,n.cn)(c({variant:a,size:i,className:r})),ref:t,...h})});o.displayName="Button"}}]);